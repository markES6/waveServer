{"version":3,"sources":["webpack:///webpack/bootstrap 03e14da6e37e16daeae4","webpack:///./src/app.js","webpack:///./~/lodash.assign/index.js","webpack:///./~/event-emitter/index.js","webpack:///./~/d/index.js","webpack:///./~/es5-ext/object/assign/index.js","webpack:///./~/es5-ext/object/assign/is-implemented.js","webpack:///./~/es5-ext/object/assign/shim.js","webpack:///./~/es5-ext/object/keys/index.js","webpack:///./~/es5-ext/object/keys/is-implemented.js","webpack:///./~/es5-ext/object/keys/shim.js","webpack:///./~/es5-ext/object/is-value.js","webpack:///./~/es5-ext/function/noop.js","webpack:///./~/es5-ext/object/valid-value.js","webpack:///./~/es5-ext/object/normalize-options.js","webpack:///./~/es5-ext/object/is-callable.js","webpack:///./~/es5-ext/string/#/contains/index.js","webpack:///./~/es5-ext/string/#/contains/is-implemented.js","webpack:///./~/es5-ext/string/#/contains/shim.js","webpack:///./~/es5-ext/object/valid-callable.js","webpack:///./src/Playlist.js","webpack:///./~/lodash.defaults/index.js","webpack:///./~/virtual-dom/create-element.js","webpack:///./~/virtual-dom/vdom/create-element.js","webpack:///./~/global/document.js","webpack:///min-document (ignored)","webpack:///./~/virtual-dom/vdom/apply-properties.js","webpack:///./~/is-object/index.js","webpack:///./~/virtual-dom/vnode/is-vhook.js","webpack:///./~/virtual-dom/vnode/is-vnode.js","webpack:///./~/virtual-dom/vnode/version.js","webpack:///./~/virtual-dom/vnode/is-vtext.js","webpack:///./~/virtual-dom/vnode/is-widget.js","webpack:///./~/virtual-dom/vnode/handle-thunk.js","webpack:///./~/virtual-dom/vnode/is-thunk.js","webpack:///./src/render/TimeScale.js","webpack:///./~/virtual-dom/h.js","webpack:///./~/virtual-dom/virtual-hyperscript/index.js","webpack:///./~/x-is-array/index.js","webpack:///./~/virtual-dom/vnode/vnode.js","webpack:///./~/virtual-dom/vnode/vtext.js","webpack:///./~/virtual-dom/virtual-hyperscript/parse-tag.js","webpack:///./~/browser-split/index.js","webpack:///./~/virtual-dom/virtual-hyperscript/hooks/soft-set-hook.js","webpack:///./~/virtual-dom/virtual-hyperscript/hooks/ev-hook.js","webpack:///./~/ev-store/index.js","webpack:///./~/individual/one-version.js","webpack:///./~/individual/index.js","webpack:///./src/utils/conversions.js","webpack:///./src/render/TimeScaleHook.js","webpack:///./src/render/Track.js","webpack:///./~/webaudio-peaks/index.js","webpack:///./src/render/CanvasHook.js","webpack:///./src/Playout.js","webpack:///./src/render/PlayedHook.js","webpack:///./src/render/FragHook.js","webpack:///./src/render/FormHook.js","webpack:///./src/track/controller/FragController.js","webpack:///./src/track/controller/FormController.js","webpack:///./src/track/loader/LoaderFactory.js","webpack:///./src/track/loader/XHRLoader.js","webpack:///./src/track/loader/Loader.js"],"names":["init","options","ee","container","undefined","Error","window","OfflineAudioContext","webkitOfflineAudioContext","AudioContext","webkitAudioContext","audioContext","defaults","ac","sampleRate","samplesPerPixel","controls","show","width","colors","waveOutlineColor","timeColor","fadeColor","waveHeight","zoomLevels","config","zoomIndex","indexOf","playlist","setSampleName","name","setDataInfo","setSampleRate","setSamplesPerPixel","setAudioContext","setEventEmitter","setUpEventEmitter","setControlOptions","setWaveHeight","setColors","setZoomLevels","setZoomIndex","setDefault","isAutomaticScroll","isContinuousPlay","linkedEndpoints","render","duration","scrollLeft","tracks","timer","cycle","startTime","stopTime","pauseTime","lastPlay","formInfo","typeArr","type","sort","title","option","fragDom","document","getElementById","canvasDom","info","markData","localStorage","JSON","parse","bol","height","levels","index","zoom","forEach","track","calculatePeaks","controlOptions","setItem","stringify","reduce","Math","max","getEndTime","frag","fragHook","renderAdd","length","formHook","splice","fragController","bindEvent","formController","on","endTime","play","pause","start","end","changeFragHook","push","setFragHook","setClassName","deleteFragHook","formData","saveLocalStorage","body","onmousewheel","e","deltaY","emit","isPlaying","currentTime","scheduleStop","Promise","all","playoutPromises","stopAnimation","requestAnimationFrame","step","stepStart","animationRequest","renderPlayed","steps","cancelAnimationFrame","restartPlayFrom","startAnimation","schedulePlay","shouldPlay","masterGain","style","display","playbackReset","editor","then","bind","zoomStyle","setZoom","setSamples","trackList","loadPromises","map","trackInfo","loader","createLoader","src","load","audioBuffers","audioBuffer","cueIn","cuein","cueOut","cueout","selection","selected","peaks","mono","playout","setBuffer","setName","setCues","setWaveOutlineColor","setActiveTrack","setTimeSelection","setPeakData","setPlayout","concat","adjustDuration","controlWidth","timeScale","trackElements","seconds","played","timeTree","renderTimeScale","timeNode","innerHTML","appendChild","canvasTree","renderTrackSection","i","canvasNode","renderFrag","TimeScale","offset","marginLeft","timeinfo","marker","bigStep","smallStep","secondStep","resolution","keys","Object","parseInt","item","a","b","widthX","pixPerSec","pixOffset","scaleInfo","getScaleInfo","canvasInfo","timeMarkers","counter","pixIndex","floor","pix","attributes","formatTime","hook","milliseconds","s","m","samplesToSeconds","secondsToSamples","samplesToPixels","pixelsToSamples","pixelsToSeconds","secondsToPixels","samples","ceil","pixels","tickInfo","canvas","prop","prev","ctx","getContext","clearRect","x","scaleHeight","scaleY","fillRect","MAX_CANVAS_WIDTH","peakData","buffer","color","data","now","defaultOptions","isOffline","playoutSystem","offlinePlayout","sourcePromise","setUpSource","setVolumeGainLevel","setShouldPlay","setMasterGainLevel","when","stop","setPeaks","canvasWidth","canvasHeight","channels","channelNum","channelChildren","totalWidth","currentWidth","min","canvasColor","bits","CanvasHook","len","cc","h2","maxValue","fillStyle","minPeak","maxPeak","drawFrame","abs","gain","destination","source","createBufferSource","resolve","onended","disconnect","fadeGain","volumeGain","shouldPlayGain","createGain","connect","level","value","bool","PlayedHook","oDiv1","oDiv2","oDiv3","allWidth","playedWid","left","FragHook","formArr","state","extend","qualityState","dom","creatDom","domAll","FromHook","formDom","typeInfo","checkValue","inputDom","listDom","split","indexT","checked","check","checkboxDom","radioDom","selectDom","formItem","errorInfo","qualityType","renderRadio","errorsState","renderCheckbox","qualityDom","formContent","qualityRender","typeItem","renderInput","renderSelect","form","FragController","fragId","shortFrag","downPoint","hitPoint","changeFrag","addEventListener","rightEvent","preventDefault","which","downRightEvent","downEvent","moveRightEvent","moveEvent","upRightEvent","upEventCreat","upEventPlay","target","getAttribute","clearClassName","className","getElementsByClassName","replace","canvasLeft","getBoundingClientRect","mouseLeft","clientX","playWidth","pointSlected","right","Point","out","setUp","points","point1","point2","getMouseLeft","pointStart","upPoint","pointEnd","moveWidth","setShortFrag","getAttrName","getHitPoint","movePoint","selectedDom","movementX","starts","ends","FormController","getIndex","offsetParent","values","selectedIndex","checkboxList","getElementsByTagName","radioList","formSlected","formValue","getValue","group","addFormInfo","reject","xhr","XMLHttpRequest","open","responseType","send","decoderPromise","STATE_UNINITIALIZED","STATE_LOADING","STATE_DECODING","STATE_FINISHED","audioRequestState","percentComplete","setStateChange","lengthComputable","loaded","total","audioData","response","result","decodeAudioData","err"],"mappings":"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;AACnB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,OAAO,WAAW;AAC7B,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA,yBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,kBAAiB;AACjB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA,8BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5nBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB;;AAElB;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAa,4BAA4B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;;AAEpB;AACA,cAAa,2BAA2B;AACxC;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA0B;;AAE1B;AACA;AACA;AACA;;;;;;;ACnIA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA,UAAS;AACT;AACA;;;;;;;AC9DA;;AAEA;AACA;AACA;;;;;;;ACJA;;AAEA;AACA;AACA;AACA,SAAQ;AACR,eAAc,aAAa,GAAG,eAAe;AAC7C;AACA;;;;;;;ACRA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,aAAY,YAAY;AACxB;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtBA;;AAEA;AACA;AACA;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;;;;;;ACTA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACRA;;AAEA,4CAA+C;;AAE/C;AACA;AACA;;;;;;;ACNA;;AAEA;AACA;;;;;;;ACHA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;ACPA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;;;;;;;ACnBA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACNA;;AAEA;AACA;AACA;;;;;;;ACJA;;AAE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,CAA1B,EAA6B;AAC3B,cAAK,IAAI6F,IAAI,CAAb,EAAgBA,IAAIF,WAAW3F,MAA/B,EAAuC6F,GAAvC,EAA4C;AAC1C,eAAMC,aAAa,6BAAcH,WAAWE,CAAX,EAAc,CAAd,CAAd,CAAnB;AACA,gBAAKrH,SAAL,CAAekH,WAAf,CAA2BI,UAA3B;AACD;AACF;;AAED,YAAKC,UAAL;AACD;;;;;;;;;;;;AChXH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,YAAW,MAAM;AACjB,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,QAAQ;AACnB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,OAAO,WAAW;AAC7B,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA,yBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,kBAAiB;AACjB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA,8BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS,GAAG,SAAS,GAAG,SAAS;AAC9C,WAAU;AACV;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,cAAa,OAAO;AACpB;AACA;AACA;AACA,gBAAe,SAAS,GAAG,SAAS,GAAG,SAAS;AAChD,WAAU;AACV;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3pBA;;AAEA;;;;;;;ACFA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC7CA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA,gB;;;;;;ACAA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,c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AAED,cAAUC,CAAV,SAAeD,CAAf;AACD;;;;;;mBA6DY9B,S;;;;;;ACpJf;;AAEA;;;;;;;ACFA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL,wBAAuB,cAAc;AACrC;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;;;;;;ACxIA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAmB,WAAW;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACvEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;ACTA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,gBAAe,qBAAqB;AACpC;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,cAAc;AACzB,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD;AACrD;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzGD;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;AChBA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;AC1BA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;ACnBA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACrBA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;;SClBgBgC,gB,GAAAA,gB;SAIAC,gB,GAAAA,gB;SAIAC,e,GAAAA,e;SAIAC,e,GAAAA,e;SAIAC,e,GAAAA,e;SAIAC,e,GAAAA,e;AApBT,UAASL,gBAAT,CAA0BM,OAA1B,EAAmCjN,UAAnC,EAA+C;AACpD,UAAOiN,UAAUjN,UAAjB;AACD;;AAEM,UAAS4M,gBAAT,CAA0B7C,OAA1B,EAAmC/J,UAAnC,EAA+C;AACpD,UAAOqE,KAAK6I,IAAL,CAAUnD,UAAU/J,UAApB,CAAP;AACD;;AAEM,UAAS6M,eAAT,CAAyBI,OAAzB,EAAkC9B,UAAlC,EAA8C;AACnD,UAAO9G,KAAK8H,KAAL,CAAWc,UAAU9B,UAArB,CAAP;AACD;;AAEM,UAAS2B,eAAT,CAAyBK,MAAzB,EAAiChC,UAAjC,EAA6C;AAClD,UAAO9G,KAAK8H,KAAL,CAAWgB,SAAShC,UAApB,CAAP;AACD;;AAEM,UAAS4B,eAAT,CAAyBI,MAAzB,EAAiChC,UAAjC,EAA6CnL,UAA7C,EAAyD;AAC9D,UAAQmN,SAAShC,UAAV,GAAwBnL,UAAxB,IAAsC,CAAtC,GAA0C,CAA1C,GAA+CmN,SAAShC,UAAV,GAAwBnL,UAA7E;AACD;;AAEM,UAASgN,eAAT,CAAyBjD,OAAzB,EAAkCoB,UAAlC,EAA8CnL,UAA9C,EAA0D;AAC/D,UAAOqE,KAAK6I,IAAL,CAAWnD,UAAU/J,UAAX,GAAyBmL,UAAnC,CAAP;AACD,E;;;;;;;;;;;;;;;;ACtBD;;;;AAIE,mBAAYiC,QAAZ,EAAsBxC,MAAtB,EAA8B3K,eAA9B,EAA+CgC,QAA/C,EAAyD;AAAA;;AACvD,UAAKmL,QAAL,GAAgBA,QAAhB;AACA,UAAKxC,MAAL,GAAcA,MAAd;AACA,UAAK3K,eAAL,GAAuBA,eAAvB;AACA,UAAKgC,QAAL,GAAgBA,QAAhB;AACD;;;;0BAEIoL,M,EAAQC,I,EAAMC,I,EAAM;AAAA;;AACvB;AACA,WAAIA,SAASjO,SAAT,IACEiO,KAAK3C,MAAL,KAAgB,KAAKA,MADvB,IAEE2C,KAAKtL,QAAL,KAAkB,KAAKA,QAFzB,IAGEsL,KAAKtN,eAAL,KAAyB,KAAKA,eAHpC,EAGsD;AACpD;AACD;;AAED,WAAMG,QAAQiN,OAAOjN,KAArB;AACA,WAAMsD,SAAS2J,OAAO3J,MAAtB;AACA,WAAM8J,MAAMH,OAAOI,UAAP,CAAkB,IAAlB,CAAZ;;AAEAD,WAAIE,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBtN,KAApB,EAA2BsD,MAA3B;;AAEA2H,cAAOD,IAAP,CAAY,KAAKgC,QAAjB,EAA2BtJ,OAA3B,CAAmC,UAAC6J,CAAD,EAAO;AACxC,aAAMC,cAAc,MAAKR,QAAL,CAAcO,CAAd,CAApB;AACA,aAAME,SAASnK,SAASkK,WAAxB;AACAJ,aAAIM,QAAJ,CAAaH,CAAb,EAAgBE,MAAhB,EAAwB,CAAxB,EAA2BD,WAA3B;AACD,QAJD;AAKD;;;;;;;;;;;;;;;;;;;;AC/BH;;;;AACA;;;;AAEA;;;;AACA;;AACA;;;;;;;;AAEA,KAAMG,mBAAmB,IAAzB;;;AAEE,mBAAY/K,OAAZ,EAAqB;AAAA;;AACnB,UAAKV,SAAL,GAAiB,CAAjB;AACA,UAAK4C,OAAL,GAAe,CAAf;AACA,UAAKlC,OAAL,GAAeA,OAAf;AACA,UAAKgL,QAAL,GAAgB;AACdpL,aAAM,UADQ;AAEdoG,aAAM;AAFQ,MAAhB;AAID;AACD;;;;;+BACUiF,M,EAAQ;AAChB,YAAKA,MAAL,GAAcA,MAAd;AACD;AACD;;;;6BACQjN,I,EAAM;AACZ,YAAKA,IAAL,GAAYA,IAAZ;AACD;AACD;;;;yCACoBkN,K,EAAO;AACzB,YAAK5N,gBAAL,GAAwB4N,KAAxB;AACD;AACD;;;;iCACYC,I,EAAM;AAChB,YAAKH,QAAL,GAAgBG,IAAhB;AACD;AACD;;;;gCACWlF,O,EAAS;AAClB,YAAKA,OAAL,GAAeA,OAAf;AACD;AACD;;;;kCACa5D,K,EAAO;AAClB,YAAK/C,SAAL,GAAiB+C,KAAjB;AACA,YAAKH,OAAL,GAAeG,QAAQ,KAAKpD,QAA5B;AACD;AACD;;;;6BACQwG,K,EAAOE,M,EAAQ;AACrB,WAAIA,SAASF,KAAb,EAAoB;AAClB,eAAM,IAAIlJ,KAAJ,CAAU,oCAAV,CAAN;AACD;;AAED,YAAKkJ,KAAL,GAAaA,KAAb;AACA,YAAKE,MAAL,GAAcA,MAAd;AACA,YAAK1G,QAAL,GAAgB,KAAK0G,MAAL,GAAc,KAAKF,KAAnC;AACA,YAAKvD,OAAL,GAAe,KAAK5C,SAAL,GAAiB,KAAKL,QAArC;AACD;AACD;;;;8BACS8G,K,EAAO;AACd,YAAKA,KAAL,GAAaA,KAAb;AACD;AACD;;;;kCACa;AACX,cAAO,KAAK7D,OAAZ;AACD;AACD;;;;iCACY;AACV,cAAO,KAAK+D,OAAL,CAAa9C,SAAb,EAAP;AACD;AACD;;;;kCACaiI,G,EAAK9L,S,EAAW4C,O,EAASvE,M,EAAQ;AAC5C,WAAM0N,iBAAiB;AACrBjH,qBAAY,IADS;AAErBC,qBAAY,CAFS;AAGrBiH,oBAAW;AAHU,QAAvB;;AAMA,WAAMnP,UAAU,sBAAQ,EAAR,EAAYkP,cAAZ,EAA4B1N,MAA5B,CAAhB;AACA,WAAM4N,gBAAgBpP,QAAQmP,SAAR,GAAoB,KAAKE,cAAzB,GAA0C,KAAKvF,OAArE;AACA,WAAMwF,gBAAgBF,cAAcG,WAAd,EAAtB;AACAH,qBAAcI,kBAAd,CAAiC,CAAjC;AACAJ,qBAAcK,aAAd,CAA4BzP,QAAQiI,UAApC;AACAmH,qBAAcM,kBAAd,CAAiC,CAAjC;AACAN,qBAAcpJ,IAAd,CAAmBiJ,GAAnB,EAAwB9L,SAAxB,EAAmC4C,OAAnC;AACA,cAAOuJ,aAAP;AACD;AACD;;;;oCACuB;AAAA,WAAVK,IAAU,uEAAH,CAAG;;AACrB,YAAK7F,OAAL,CAAa8F,IAAb,CAAkBD,IAAlB;AACD;;AAED;;;;oCACe7O,e,EAAiBD,U,EAAY;AAC1C,WAAMyI,QAAQ,mCAAiB,KAAKA,KAAtB,EAA6BzI,UAA7B,CAAd;AACA,WAAM2I,SAAS,mCAAiB,KAAKA,MAAtB,EAA8B3I,UAA9B,CAAf;AACA,YAAKgP,QAAL,CAAc,6BAAa,KAAKf,MAAlB,EAA0BhO,eAA1B,EAA2C,KAAK+N,QAAL,CAAchF,IAAzD,EAA+DP,KAA/D,EAAsEE,MAAtE,CAAd;AACD;;AAED;;;;8BACS;AAAA;;AACP,WAAMsG,cAAc,KAAKlG,KAAL,CAAWpE,MAA/B;AACA,WAAMuK,eAAe,GAArB;AACA,YAAKlM,OAAL,CAAasE,KAAb,CAAmBlH,KAAnB,GAA8B6O,WAA9B;AACA,WAAME,WAAW9D,OAAOD,IAAP,CAAY,KAAKrC,KAAL,CAAWoF,IAAvB,EAA6BlG,GAA7B,CAAiC,UAACmH,UAAD,EAAgB;AAChE,aAAMC,kBAAkB,EAAxB;AACA,aAAIzE,SAAS,CAAb;AACA,aAAI0E,aAAaL,WAAjB;AACA,aAAMlG,QAAQ,MAAKA,KAAL,CAAWoF,IAAX,CAAgBiB,UAAhB,CAAd;AACA,gBAAOE,aAAa,CAApB,EAAuB;AACrB,eAAMC,eAAelL,KAAKmL,GAAL,CAASF,UAAT,EAAqBvB,gBAArB,CAArB;AACA,eAAM0B,cAAc,SAApB;;AAEAJ,2BAAgB7J,IAAhB,CAAqB,iBAAE,QAAF,EAAY;AAC/B6G,yBAAY;AACVjM,sBAAOmP,YADG;AAEV7L,uBAAQwL,YAFE;AAGV5H,sBAAO;AAHG,cADmB;AAM/BiF,mBAAM,yBAAexD,KAAf,EAAsB6B,MAAtB,EAA8B,MAAK7B,KAAL,CAAW2G,IAAzC,EAA+CD,WAA/C;AANyB,YAAZ,CAArB;AAQAH,yBAAcC,YAAd;AACA3E,qBAAUmD,gBAAV;AACD;;AAED,gBAAO,0CAAyBqB,UAAzB,EACL;AACE/C,uBAAY;AACV/E,iCAAkB4H,YAAlB,mBAA4CD,WAA5C,iBAAmEG,aAAaF,YAAhF;AADU;AADd,UADK,EAMLG,eANK,CAAP;AAQD,QA7BgB,CAAjB;AA8BA,cAAOF,QAAP;AACD;;;;;;;;;;;;ACnIH;;AAEA;AACA;AACA;AACA,WAAU,WAAW;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS,SAAS;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU,OAAO;AACjB,WAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU,WAAW;AACrB,WAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,a;AACA;AACA;;AAEA;AACA;;AAEA,gBAAe,cAAc;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAe,cAAc;AAC7B;AACA;;AAEA,oBAAmB,aAAa;AAChC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAU,uBAAuB;AACjC,WAAU,OAAO;AACjB,WAAU,OAAO;AACjB,WAAU,OAAO;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,G;;;;;;;;;;;;;;;;KCxJMQ,U;AACJ,uBAAY5G,KAAZ,EAAmB6B,MAAnB,EAA2B8E,IAA3B,EAAiCxB,KAAjC,EAAwC;AAAA;;AACtC,UAAKnF,KAAL,GAAaA,KAAb;AACA,UAAK6B,MAAL,GAAcA,MAAd;AACA,UAAKsD,KAAL,GAAaA,KAAb;AACA,UAAKwB,IAAL,GAAYA,IAAZ;AACD;;;;0BAWIrC,M,EAAQC,I,EAAMC,I,EAAM;AACvB;AACA,WAAIA,SAASjO,SAAT,IACDiO,KAAKxE,KAAL,KAAe,KAAKA,KADvB,EAC+B;AAC7B;AACD;;AAED,WAAM6G,MAAMvC,OAAOjN,KAAnB;AACA,WAAMyP,KAAKxC,OAAOI,UAAP,CAAkB,IAAlB,CAAX;AACA,WAAMqC,KAAKzC,OAAO3J,MAAP,GAAgB,CAA3B;AACA,WAAMqM,oBAAW,CAAX,EAAiB,KAAKL,IAAL,GAAY,CAA7B,CAAN;AACAG,UAAGnC,SAAH,CAAa,CAAb,EAAgB,CAAhB,EAAmBL,OAAOjN,KAA1B,EAAiCiN,OAAO3J,MAAxC;AACAmM,UAAGG,SAAH,GAAe,KAAK9B,KAApB;AACA,YAAK,IAAI1D,IAAI,CAAb,EAAgBA,IAAIoF,GAApB,EAAyBpF,KAAK,CAA9B,EAAiC;AAC/B,aAAMyF,UAAU,KAAKlH,KAAL,CAAW,CAACyB,IAAI,KAAKI,MAAV,IAAoB,CAA/B,IAAoCmF,QAApD;AACA,aAAMG,UAAU,KAAKnH,KAAL,CAAY,CAACyB,IAAI,KAAKI,MAAV,IAAoB,CAArB,GAA0B,CAArC,IAA0CmF,QAA1D;AACAJ,oBAAWQ,SAAX,CAAqBN,EAArB,EAAyBC,EAAzB,EAA6BtF,CAA7B,EAAgCyF,OAAhC,EAAyCC,OAAzC;AACD;AACF;;;+BA3BgBL,E,EAAIC,E,EAAInC,C,EAAGsC,O,EAASC,O,EAAS;AAC5C,WAAMV,MAAMnL,KAAK+L,GAAL,CAASH,UAAUH,EAAnB,CAAZ;AACA,WAAMxL,MAAMD,KAAK+L,GAAL,CAASF,UAAUJ,EAAnB,CAAZ;AACA;AACAD,UAAG/B,QAAH,CAAYH,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqBmC,KAAKxL,GAA1B;AACA;AACAuL,UAAG/B,QAAH,CAAYH,CAAZ,EAAemC,KAAKN,GAApB,EAAyB,CAAzB,EAA4BM,KAAKN,GAAjC;AACD;;;;;;mBAuBYG,U;;;;;;;;;;;;;;;;;ACrCb,mBAAY5P,EAAZ,EAAgBkO,MAAhB,EAAwB;AAAA;;AACtB,UAAKlO,EAAL,GAAUA,EAAV;AACA,UAAKsQ,IAAL,GAAY,CAAZ;AACA,UAAKpC,MAAL,GAAcA,MAAd;AACA,UAAKqC,WAAL,GAAmB,KAAKvQ,EAAL,CAAQuQ,WAA3B;AACD;;;;iCAEW;AACV,cAAO,KAAKC,MAAL,KAAgBjR,SAAvB;AACD;;;mCAEa;AACZ,cAAO,KAAK2O,MAAL,CAAYhM,QAAnB;AACD;;;qCAEepC,Y,EAAc;AAC5B,YAAKE,EAAL,GAAUF,YAAV;AACA,YAAKyQ,WAAL,GAAmB,KAAKvQ,EAAL,CAAQuQ,WAA3B;AACD;;;mCAEa;AAAA;;AACZ,YAAKC,MAAL,GAAc,KAAKxQ,EAAL,CAAQyQ,kBAAR,EAAd;AACA,YAAKD,MAAL,CAAYtC,MAAZ,GAAqB,KAAKA,MAA1B;;AAEA,WAAMQ,gBAAgB,IAAInI,OAAJ,CAAY,UAACmK,OAAD,EAAa;AAC7C;AACA,eAAKF,MAAL,CAAYG,OAAZ,GAAsB,YAAM;AAC1B,iBAAKH,MAAL,CAAYI,UAAZ;AACA,iBAAKC,QAAL,CAAcD,UAAd;AACA,iBAAKE,UAAL,CAAgBF,UAAhB;AACA,iBAAKG,cAAL,CAAoBH,UAApB;AACA,iBAAKtJ,UAAL,CAAgBsJ,UAAhB;;AAGA,iBAAKJ,MAAL,GAAcjR,SAAd;AACA,iBAAKsR,QAAL,GAAgBtR,SAAhB;AACA,iBAAKuR,UAAL,GAAkBvR,SAAlB;AACA,iBAAKwR,cAAL,GAAsBxR,SAAtB;AACA,iBAAK+H,UAAL,GAAkB/H,SAAlB;;AAEAmR;AACD,UAfD;AAgBD,QAlBqB,CAAtB;;AAoBA,YAAKG,QAAL,GAAgB,KAAK7Q,EAAL,CAAQgR,UAAR,EAAhB;AACA;AACA,YAAKF,UAAL,GAAkB,KAAK9Q,EAAL,CAAQgR,UAAR,EAAlB;AACA;AACA,YAAKD,cAAL,GAAsB,KAAK/Q,EAAL,CAAQgR,UAAR,EAAtB;AACA,YAAK1J,UAAL,GAAkB,KAAKtH,EAAL,CAAQgR,UAAR,EAAlB;;AAEA,YAAKR,MAAL,CAAYS,OAAZ,CAAoB,KAAKJ,QAAzB;AACA,YAAKA,QAAL,CAAcI,OAAd,CAAsB,KAAKH,UAA3B;AACA,YAAKA,UAAL,CAAgBG,OAAhB,CAAwB,KAAKF,cAA7B;AACA,YAAKA,cAAL,CAAoBE,OAApB,CAA4B,KAAK3J,UAAjC;AACA,YAAKA,UAAL,CAAgB2J,OAAhB,CAAwB,KAAKV,WAA7B;;AAEA,cAAO7B,aAAP;AACD;;;wCAEkBwC,K,EAAO;AACxB,WAAI,KAAKJ,UAAT,EAAqB;AACnB,cAAKA,UAAL,CAAgBR,IAAhB,CAAqBa,KAArB,GAA6BD,KAA7B;AACD;AACF;;;mCAEaE,I,EAAM;AAClB,WAAI,KAAKL,cAAT,EAAyB;AACvB,cAAKA,cAAL,CAAoBT,IAApB,CAAyBa,KAAzB,GAAiCC,OAAO,CAAP,GAAW,CAA5C;AACD;AACF;;;wCAEkBF,K,EAAO;AACxB,WAAI,KAAK5J,UAAT,EAAqB;AACnB,cAAKA,UAAL,CAAgBgJ,IAAhB,CAAqBa,KAArB,GAA6BD,KAA7B;AACD;AACF;;AAED;;;;;;;;;0BAMKnC,I,EAAMzJ,K,EAAOpD,Q,EAAU;AAC1B,YAAKsO,MAAL,CAAYlL,KAAZ,CAAkByJ,IAAlB,EAAwBzJ,KAAxB,EAA+BpD,QAA/B;AACD;;;4BAEc;AAAA,WAAV6M,IAAU,uEAAH,CAAG;;AACb,WAAI,KAAKyB,MAAT,EAAiB;AACf,cAAKA,MAAL,CAAYxB,IAAZ,CAAiBD,IAAjB;AACD;AACF;;;;;;;;;;;;;;;;;;;;AC9FH;;;;KAEMsC,U;AACJ,uBAAYrH,OAAZ,EAAqB9J,eAArB,EAAsCD,UAAtC,EAAkDiC,QAAlD,EAA4D;AAAA;;AAC1D,UAAK8H,OAAL,GAAeA,OAAf;AACA,UAAK9J,eAAL,GAAuBA,eAAvB;AACA,UAAKD,UAAL,GAAkBA,UAAlB;AACA,UAAKiC,QAAL,GAAgBA,QAAhB;;AAEA,UAAKoP,KAAL,GAAapO,SAASC,cAAT,CAAwB,UAAxB,CAAb;AACA,UAAKoO,KAAL,GAAarO,SAASC,cAAT,CAAwB,aAAxB,CAAb;AACA,UAAKqO,KAAL,GAAatO,SAASC,cAAT,CAAwB,QAAxB,CAAb;AACD;;;;8BACQ;AACP,WAAMwI,SAAS,kCAAgB,KAAK3B,OAArB,EAA8B,KAAK9J,eAAnC,EAAoD,KAAKD,UAAzD,CAAf;AACA,WAAMwR,WAAW,kCAAgB,KAAKvP,QAArB,EAA+B,KAAKhC,eAApC,EAAqD,KAAKD,UAA1D,CAAjB;AACA,WAAMyR,YAAY/F,SAAS8F,QAA3B;AACA,YAAKH,KAAL,CAAW/J,KAAX,CAAiBlH,KAAjB,GAA4BsL,MAA5B;AACA,YAAK4F,KAAL,CAAWhK,KAAX,CAAiBoK,IAAjB,GAA2BhG,MAA3B;AACA,YAAK6F,KAAL,CAAWjK,KAAX,CAAiBlH,KAAjB,GAA4BqR,YAAY,GAAxC;AACD;;;;;;mBAEYL,U;;;;;;;;;;;;;;ACtBf;;;;KAEMO,Q;AACJ,qBAAY3O,OAAZ,EAAqB4O,OAArB,EAA8B3R,eAA9B,EAA+CD,UAA/C,EAA2D;AAAA;;AACzD,UAAK4R,OAAL,GAAeA,OAAf;AACA,UAAK3R,eAAL,GAAuBA,eAAvB;AACA,UAAKD,UAAL,GAAkBA,UAAlB;AACA,UAAKgD,OAAL,GAAeA,OAAf;AACD;;;;8BACQwB,I,EAAMZ,K,EAAO;AACpB,WAAMyB,QAAQhB,KAAKmL,GAAL,CAAShL,KAAKa,KAAd,EAAqBb,KAAKc,GAA1B,CAAd;AACA,WAAMA,MAAMjB,KAAKC,GAAL,CAASE,KAAKa,KAAd,EAAqBb,KAAKc,GAA1B,CAAZ;AACA,WAAMoM,OAAO,kCAAgBrM,KAAhB,EAAuB,KAAKpF,eAA5B,EAA6C,KAAKD,UAAlD,CAAb;AACA,WAAMI,QAAQ,kCAAgBkF,GAAhB,EAAqB,KAAKrF,eAA1B,EAA2C,KAAKD,UAAhD,IAA8D0R,IAA5E;AACA,WAAIG,QAAQ,EAAZ;AACA,WAAIrN,KAAKsN,MAAL,CAAYC,YAAZ,KAA6B,GAAjC,EAAsC;AACpCF,iBAAQ,WAAR;AACD,QAFD,MAEO,IAAIrN,KAAKsN,MAAL,CAAYC,YAAZ,KAA6B,GAAjC,EAAsC;AAC3CF,iBAAQ,SAAR;AACD;AACD,WAAMG,4BAA0BH,KAA1B,uBAAgDH,IAAhD,iBAAgEtR,KAAhE,kBAAiFwD,KAAjF,YAAN;AACA,cAAOoO,GAAP;AACD;;;+BACSxN,I,EAAMZ,K,EAAO;AACrB,WAAMoO,MAAM,KAAKC,QAAL,CAAczN,IAAd,EAAoBZ,KAApB,CAAZ;AACA,YAAKZ,OAAL,CAAaoH,SAAb,IAA0B4H,GAA1B;AACD;;;8BACQ;AAAA;;AACP,WAAIE,SAAS,EAAb;AACA,YAAKN,OAAL,CAAa9N,OAAb,CAAqB,UAACyH,IAAD,EAAO3H,KAAP,EAAiB;AACpCsO,mBAAU,MAAKD,QAAL,CAAc1G,IAAd,EAAoB3H,KAApB,CAAV;AACD,QAFD;AAGA,YAAKZ,OAAL,CAAaoH,SAAb,GAAyB8H,MAAzB;AACD;;;;;;mBAEYP,Q;;;;;;;;;;;;;;ACnCf;;;;KAEMQ,Q;AACJ,qBAAYxP,OAAZ,EAAqBD,QAArB,EAA+BzC,eAA/B,EAAgDD,UAAhD,EAA4DZ,EAA5D,EAAgE;AAAA;;AAC9D,UAAKuD,OAAL,GAAeA,OAAf;AACA,UAAKD,QAAL,GAAgBA,QAAhB;AACA,UAAKzC,eAAL,GAAuBA,eAAvB;AACA,UAAKD,UAAL,GAAkBA,UAAlB;AACA,UAAKZ,EAAL,GAAUA,EAAV;;AAGA,UAAKgT,OAAL,GAAenP,SAASC,cAAT,CAAwB,UAAxB,CAAf;AACD;;;;iCACWqI,I,EAAM8G,Q,EAAU;AAC1B,WAAMC,aAAa/G,KAAKuG,MAAL,CAAYO,SAASxP,IAArB,KAA8B,EAAjD;AACA,WAAM0P,6CAA2CF,SAASvP,KAApD,uCAA2FwP,UAA3F,kCAAkID,SAASxP,IAA3I,aAAN;AACA,cAAO0P,QAAP;AACD;;;oCACchH,I,EAAM8G,Q,EAAUzO,K,EAAO;AACpC,WAAI4O,UAAU,EAAd;AACA,WAAIF,aAAa/G,KAAKuG,MAAL,CAAYO,SAASxP,IAArB,KAA8B,EAA/C;AACA,WAAI,OAAOyP,UAAP,KAAsB,QAA1B,EAAoC;AAClCA,sBAAaA,WAAWG,KAAX,CAAiB,GAAjB,CAAb;AACD;AACDJ,gBAAStP,MAAT,CAAgBe,OAAhB,CAAwB,UAAC9C,IAAD,EAAO0R,MAAP,EAAkB;AACxC,aAAIC,UAAU,EAAd;AACAL,oBAAWxO,OAAX,CAAmB,UAAC8O,KAAD,EAAW;AAC5B,eAAIA,eAAaF,MAAjB,EAA2B;AACzBC,uBAAU,SAAV;AACD;AACF,UAJD;AAKAH,yFACsD5O,KADtD,kBACuE8O,MADvE,WACkFC,OADlF,sCAEuB3R,IAFvB;AAKD,QAZD;AAaA,WAAM6R,iDAA+CR,SAASvP,KAAxD,mFAC2DuP,SAASxP,IADpE,wDAEoB2P,OAFpB,sEAAN;AAKA,cAAOK,WAAP;AACD;;;iCACWtH,I,EAAM8G,Q,EAAUzO,K,EAAO;AACjC,WAAI4O,UAAU,EAAd;AACA,WAAMF,aAAa/G,KAAKuG,MAAL,CAAYO,SAASxP,IAArB,KAA8B,EAAjD;AACAwP,gBAAStP,MAAT,CAAgBe,OAAhB,CAAwB,UAAC9C,IAAD,EAAO0R,MAAP,EAAkB;AACxC,aAAMC,UAAUL,oBAAkBI,MAAlB,GAA6B,SAA7B,GAAyC,EAAzD;AACAF,mFACgD5O,KADhD,iBACiE8O,MADjE,UAC4EC,OAD5E,sCAEuB3R,IAFvB;AAKD,QAPD;AAQA,WAAM8R,gDAA8CT,SAASxP,IAAvD,aAAmEwP,SAASvP,KAA5E,+FACwEuP,SAASxP,IADjF,wCAEoB2P,OAFpB,sEAAN;AAKA,cAAOM,QAAP;AACD;;;kCACYvH,I,EAAM8G,Q,EAAU;AAC3B,WAAIG,UAAU,EAAd;AACA,WAAMF,aAAa/G,KAAKuG,MAAL,CAAYO,SAASxP,IAArB,KAA8B,EAAjD;AACAwP,gBAAStP,MAAT,CAAgBe,OAAhB,CAAwB,UAAC9C,IAAD,EAAO0R,MAAP,EAAkB;AACxC,aAAMC,UAAUL,oBAAkBI,MAAlB,GAA6B,UAA7B,GAA0C,EAA1D;AACAF,uCAA4BE,MAA5B,SAAsCC,OAAtC,SAAiD3R,IAAjD;AACD,QAHD;AAIA,WAAM+R,8CAA4CV,SAASvP,KAArD,iIAEoDuP,SAASxP,IAF7D,yCAGqB2P,OAHrB,yGAAN;AAOA,cAAOO,SAAP;AACD;;;mCACaC,Q,EAAUC,S,EAAWrP,K,EAAO;AACxC,WAAMsP,cAAc,EAAEtQ,MAAM,OAAR,EAAiBC,MAAM,cAAvB,EAAuCC,OAAO,OAA9C,EAAuDC,QAAQ,CAAC,IAAD,EAAO,KAAP,CAA/D,EAApB;AACA,WAAMgP,eAAe,KAAKoB,WAAL,CAAiBH,QAAjB,EAA2BE,WAA3B,mBAAuDtP,KAAvD,CAArB;AACA,WAAMwP,cAAc,KAAKC,cAAL,CAAoBL,QAApB,EAA8BC,SAA9B,kBAAuDrP,KAAvD,CAApB;AACA,WAAM0P,2EACkBvB,YADlB,oCAEkBqB,WAFlB,qCAAN;AAIA,cAAOE,UAAP;AACD;;;8BACQN,Q,EAAUpP,K,EAAO;AAAA;;AACxB,WAAMqP,YAAY,EAAErQ,MAAM,UAAR,EAAoBC,MAAM,WAA1B,EAAuCC,OAAO,WAA9C,EAA2DC,QAAQ,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,CAAnE,EAAlB;AACA,WAAM2O,OAAO,kCAAgBsB,SAAS3N,KAAzB,EAAgC,KAAKpF,eAArC,EAAsD,KAAKD,UAA3D,CAAb;AACA,WAAIuT,cAAc,EAAlB;AACA,WAAMD,aAAc,KAAKE,aAAL,CAAmBR,QAAnB,EAA6BC,SAA7B,EAAwCrP,KAAxC,CAApB;AACA,YAAKjB,OAAL,CAAamB,OAAb,CAAqB,UAAC2P,QAAD,EAAc;AACjC,iBAAQA,SAAS7Q,IAAjB;AACE,gBAAK,OAAL;AACE2Q,4BAAe,MAAKG,WAAL,CAAiBV,QAAjB,EAA2BS,QAA3B,CAAf;AACA;AACF,gBAAK,UAAL;AACEF,4BAAe,MAAKF,cAAL,CAAoBL,QAApB,EAA8BS,QAA9B,EAAwC7P,KAAxC,CAAf;AACA;AACF,gBAAK,OAAL;AACE2P,4BAAe,MAAKJ,WAAL,CAAiBH,QAAjB,EAA2BS,QAA3B,EAAqC7P,KAArC,CAAf;AACA;AACF,gBAAK,QAAL;AACE2P,4BAAe,MAAKI,YAAL,CAAkBX,QAAlB,EAA4BS,QAA5B,CAAf;AACA;AACF;AACE;AAdJ;AAgBD,QAjBD;AAkBA,uDAA8C/B,IAA9C,kBAA+D9N,KAA/D,oDACsCA,KADtC,wDAEU2P,WAFV,sBAGUD,UAHV;AAKD;;;+BACSM,I,EAAMhQ,K,EAAO;AACrB,WAAM2P,cAAc,KAAKtB,QAAL,CAAc2B,IAAd,EAAoBhQ,KAApB,CAApB;AACA,YAAKwO,OAAL,CAAahI,SAAb,IAA0BmJ,WAA1B;AACD;;;8BACQ;AAAA;;AACP,WAAIA,cAAc,EAAlB;AACA,YAAK7Q,QAAL,CAAcoB,OAAd,CAAsB,UAACkP,QAAD,EAAWpP,KAAX,EAAqB;AACzC2P,wBAAe,OAAKtB,QAAL,CAAce,QAAd,EAAwBpP,KAAxB,CAAf;AACD,QAFD;AAGA,YAAKwO,OAAL,CAAahI,SAAb,GAAyB,EAAzB;AACA,YAAKgI,OAAL,CAAahI,SAAb,GAAyBmJ,WAAzB;AACD;;;;;;mBAGYpB,Q;;;;;;;;;;;;;;ACnIf;;;;KAEM0B,c;AACJ,2BAAYzU,EAAZ,EAAgB0U,MAAhB,EAAwBpR,QAAxB,EAAkCzC,eAAlC,EAAmDD,UAAnD,EAA+D;AAAA;;AAC7D,UAAKZ,EAAL,GAAUA,EAAV;AACA,UAAK0U,MAAL,GAAcA,MAAd;AACA,UAAKpR,QAAL,GAAgBA,QAAhB;AACA,UAAKzC,eAAL,GAAuBA,eAAvB;AACA,UAAKD,UAAL,GAAkBA,UAAlB;AACA,UAAK+T,SAAL,GAAiB9Q,SAASC,cAAT,CAAwB,WAAxB,CAAjB;;AAEA,UAAK8Q,SAAL,GAAiB,IAAjB;AACA,UAAK/B,QAAL,GAAgB,KAAhB;AACA,UAAKnJ,QAAL,GAAgB,KAAhB;AACA,UAAKmL,QAAL,GAAgB,KAAhB;AACA,UAAKC,UAAL,GAAkB,IAAlB;AACD;;;;gCACUjU,e,EAAiBD,U,EAAY;AACtC,YAAKC,eAAL,GAAuBA,eAAvB;AACA,YAAKD,UAAL,GAAkBA,UAAlB;AACD;;;iCACW;AAAA;;AACV;AACA,YAAK8T,MAAL,CAAYK,gBAAZ,CAA6B,aAA7B,EAA4C,UAACnO,CAAD,EAAO;AACjD,eAAKoO,UAAL,CAAgBpO,CAAhB;AACAA,WAAEqO,cAAF;AACD,QAHD;AAIA,YAAKP,MAAL,CAAYK,gBAAZ,CAA6B,WAA7B,EAA0C,UAACnO,CAAD,EAAO;AAC/C;AACA,aAAIA,EAAEsO,KAAF,KAAY,CAAhB,EAAmB;AACjB,eAAI,MAAKxL,QAAT,EAAmB;AACjB,mBAAKyL,cAAL,CAAoBvO,CAApB;AACA;AACD;AACD,iBAAKwO,SAAL,CAAexO,CAAf;AACD;AACF,QATD;AAUA,YAAK8N,MAAL,CAAYK,gBAAZ,CAA6B,WAA7B,EAA0C,UAACnO,CAAD,EAAO;AAC/C;AACA,aAAI,MAAK8C,QAAT,EAAmB;AACjB,iBAAK2L,cAAL,CAAoBzO,CAApB;AACA;AACD;AACD,aAAI,MAAKgO,SAAT,EAAoB;AAClB,iBAAKU,SAAL,CAAe1O,CAAf;AACD;AACF,QATD;AAUA,YAAK8N,MAAL,CAAYK,gBAAZ,CAA6B,SAA7B,EAAwC,UAACnO,CAAD,EAAO;AAC7C;AACA,aAAIA,EAAEsO,KAAF,KAAY,CAAhB,EAAmB;AAAE;AAAS;AAC9B,aAAI,MAAKxL,QAAT,EAAmB;AACjB,iBAAK6L,YAAL;AACA;AACD;AACD,aAAI,MAAK1C,QAAT,EAAmB;AACjB,iBAAK2C,YAAL,CAAkB5O,CAAlB;AACD,UAFD,MAEO;AACL,iBAAK6O,WAAL,CAAiB7O,CAAjB;AACD;AACD,eAAK+N,SAAL,CAAezM,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,eAAKyM,SAAL,GAAiB,IAAjB;AACA,eAAK/B,QAAL,GAAgB,KAAhB;AACD,QAfD;AAgBD;;;iCACWjM,C,EAAG;AACb,WAAMhF,OAAOgF,EAAE8O,MAAF,CAASC,YAAT,CAAsB,MAAtB,CAAb;AACA,cAAO/T,IAAP;AACD;;;kCACYgF,C,EAAG;AACd,YAAKgP,cAAL;AACAhP,SAAE8O,MAAF,CAASG,SAAT,GAAwBjP,EAAE8O,MAAF,CAASG,SAAjC;AACD;;;sCACgB;AACf,WAAMzQ,OAAOvB,SAASiS,sBAAT,CAAgC,MAAhC,CAAb;AACA,YAAK,IAAI1K,IAAI,CAAb,EAAgBA,IAAIhG,KAAKG,MAAzB,EAAiC6F,GAAjC,EAAsC;AACpChG,cAAKgG,CAAL,EAAQyK,SAAR,GAAoBzQ,KAAKgG,CAAL,EAAQyK,SAAR,CAAkBE,OAAlB,CAA0B,cAA1B,CAApB;AACD;AACF;;;kCACYnP,C,EAAG;AACd,WAAMoP,aAAa,KAAKtB,MAAL,CAAYuB,qBAAZ,GAAoC3D,IAAvD;AACA,WAAM4D,YAAYtP,EAAEuP,OAApB;AACA,WAAMC,YAAYF,YAAYF,UAA9B;AACA,cAAOI,SAAP;AACD;;;iCACWxP,C,EAAG;AACb,WAAMoP,aAAa,KAAKtB,MAAL,CAAYuB,qBAAZ,GAAoC3D,IAAvD;AACA,WAAM5I,WAAW,KAAKpG,QAAL,CAAc,KAAKoG,QAAnB,CAAjB;AACA,WAAMwM,YAAY,kCAAgBtP,EAAEuP,OAAF,GAAYH,UAA5B,EAAwC,KAAKnV,eAA7C,EAA8D,KAAKD,UAAnE,CAAlB;AACA,WAAIyV,eAAe,KAAnB;AACA,WAAI3M,SAASxD,GAAT,GAAe,GAAf,GAAqBgQ,SAArB,IAAkCxM,SAASxD,GAAT,GAAe,GAAf,GAAqBgQ,SAA3D,EAAsE;AACpEG,wBAAe,KAAf;AACD,QAFD,MAEO,IAAI3M,SAASzD,KAAT,GAAiB,GAAjB,GAAuBiQ,SAAvB,IAAoCxM,SAASzD,KAAT,GAAiB,GAAjB,GAAuBiQ,SAA/D,EAA0E;AAC/EG,wBAAe,OAAf;AACD;AACD,cAAOA,YAAP;AACD;;;kCACYD,S,EAAW;AACtB,WAAM9D,OAAOrN,KAAKmL,GAAL,CAASgG,SAAT,EAAoB,KAAKxB,SAAzB,CAAb;AACA,WAAM0B,QAAQrR,KAAKC,GAAL,CAASkR,SAAT,EAAoB,KAAKxB,SAAzB,CAAd;AACA,WAAM5T,QAAQsV,QAAQhE,IAAtB;AACA,YAAKqC,SAAL,CAAezM,KAAf,CAAqBC,OAArB,GAA+B,OAA/B;AACA,YAAKwM,SAAL,CAAezM,KAAf,CAAqBoK,IAArB,GAAgCA,IAAhC;AACA,YAAKqC,SAAL,CAAezM,KAAf,CAAqBlH,KAArB,GAAgCA,KAAhC;AACD;;;gCACUuV,K,EAAOC,G,EAAK;AACrB,WAAIC,QAAQ,IAAZ;AACA,WAAMC,SAAS,kCAAgBH,KAAhB,EAAuB,KAAK1V,eAA5B,EAA6C,KAAKD,UAAlD,CAAf;AACA,YAAK0C,QAAL,CAAcoB,OAAd,CAAsB,UAACyH,IAAD,EAAO3H,KAAP,EAAiB;AACrC,aAAKkS,SAASvK,KAAKlG,KAAd,IAAuByQ,SAASvK,KAAKjG,GAAtC,IAA8CsQ,OAAOhS,KAAzD,EAAgE;AAC9DiS,mBAAQ,KAAR;AACD;AACF,QAJD;AAKA,cAAOA,KAAP;AACD;;;8BACQF,K,EAAO;AACd,WAAMI,SAAS,kCAAgB,KAAK/B,SAArB,EAAgC,KAAK/T,eAArC,EAAsD,KAAKD,UAA3D,CAAf;AACA,WAAIgW,SAAS,kCAAgBL,KAAhB,EAAuB,KAAK1V,eAA5B,EAA6C,KAAKD,UAAlD,CAAb;AACA,YAAK0C,QAAL,CAAcoB,OAAd,CAAsB,UAACyH,IAAD,EAAU;AAC9B,aAAIwK,SAASC,MAAT,IAAmBD,SAASxK,KAAKlG,KAAjC,IAA0C2Q,UAAUzK,KAAKlG,KAA7D,EAAoE;AAClE2Q,oBAASzK,KAAKlG,KAAd;AACD,UAFD,MAEO,IAAI0Q,SAASC,MAAT,IAAmBD,SAASxK,KAAKjG,GAAjC,IAAwC0Q,UAAUzK,KAAKjG,GAA3D,EAAgE;AACrE0Q,oBAASzK,KAAKjG,GAAd;AACD;AACF,QAND;AAOA,cAAO,kCAAgB0Q,MAAhB,EAAwB,KAAK/V,eAA7B,EAA8C,KAAKD,UAAnD,CAAP;AACD;;;+BACSgG,C,EAAG;AACX,WAAMwP,YAAY,KAAKS,YAAL,CAAkBjQ,CAAlB,CAAlB;AACA,WAAI,KAAKkQ,UAAL,CAAgBV,SAAhB,CAAJ,EAAgC;AAC9B,cAAKxB,SAAL,GAAiBwB,SAAjB;AACD;AACF;;;+BACSxP,C,EAAG;AACX,WAAMmQ,UAAU,KAAKC,QAAL,CAAc,KAAKH,YAAL,CAAkBjQ,CAAlB,CAAd,CAAhB;AACA,WAAMqQ,YAAYF,UAAU,KAAKnC,SAAjC;AACA,WAAIqC,YAAY,CAAZ,IAAiBA,YAAY,CAAC,CAAlC,EAAqC;AACnC,cAAKC,YAAL,CAAkBH,OAAlB;AACA,cAAKlE,QAAL,GAAgB,IAAhB;AACD;AACF;;;iCACWjM,C,EAAG;AACb,WAAMhF,OAAO,KAAKuV,WAAL,CAAiBvQ,CAAjB,CAAb;AACA,YAAKgO,SAAL,GAAiB,IAAjB;AACA,WAAIhT,SAAS,UAAb,EAAyB;AACvB,aAAMmV,UAAU,KAAKF,YAAL,CAAkBjQ,CAAlB,CAAhB;AACA,aAAMX,QAAQ,kCAAgB8Q,OAAhB,EAAyB,KAAKlW,eAA9B,EAA+C,KAAKD,UAApD,CAAd;AACA,cAAKZ,EAAL,CAAQ8G,IAAR,CAAa,MAAb,EAAqBb,KAArB;AACD,QAJD,MAIO;AACL,cAAKjG,EAAL,CAAQ8G,IAAR,CAAa,aAAb,EAA4BlF,IAA5B;AACA,cAAK5B,EAAL,CAAQ8G,IAAR,CAAa,UAAb,EAAyBlF,IAAzB;AACD;AACF;;;kCACYgF,C,EAAG;AACd,WAAMmQ,UAAU,KAAKC,QAAL,CAAc,KAAKH,YAAL,CAAkBjQ,CAAlB,CAAd,CAAhB;AACA,WAAMX,QAAQhB,KAAKmL,GAAL,CAAS2G,OAAT,EAAkB,KAAKnC,SAAvB,CAAd;AACA,WAAM1O,MAAMjB,KAAKC,GAAL,CAAS6R,OAAT,EAAkB,KAAKnC,SAAvB,CAAZ;AACA,WAAMxP,OAAO;AACXa,gBAAO,kCAAgBA,KAAhB,EAAuB,KAAKpF,eAA5B,EAA6C,KAAKD,UAAlD,CADI;AAEXsF,cAAK,kCAAgBA,GAAhB,EAAqB,KAAKrF,eAA1B,EAA2C,KAAKD,UAAhD,CAFM;AAGX8C,gBAAO,EAHI;AAIXgP,iBAAQ;AAJG,QAAb;AAMA,YAAK1S,EAAL,CAAQ8G,IAAR,CAAa,SAAb,EAAwB1B,IAAxB;AACD;;;gCAEUwB,C,EAAG;AACZ,WAAMhF,OAAO,KAAKuV,WAAL,CAAiBvQ,CAAjB,CAAb;AACA,WAAIhF,SAAS,UAAb,EAAyB;AACvB,cAAK8H,QAAL,GAAgB9H,IAAhB;AACA,cAAK0E,YAAL,CAAkBM,CAAlB;AACA,cAAK5G,EAAL,CAAQ8G,IAAR,CAAa,aAAb,EAA4BlF,IAA5B;AACA,cAAK5B,EAAL,CAAQ8G,IAAR,CAAa,OAAb;AACD;AACF;;;oCACcF,C,EAAG;AAChB,WAAMhF,OAAO,KAAKuV,WAAL,CAAiBvQ,CAAjB,CAAb;AACA,YAAKiO,QAAL,GAAgB,KAAKuC,WAAL,CAAiBxQ,CAAjB,CAAhB;AACA,YAAKyQ,SAAL,GAAiBzQ,EAAEuP,OAAnB;AACA,WAAIvU,SAAS,KAAK8H,QAAd,IAA0B,KAAKmL,QAAnC,EAA6C;AAC3C;AACA;AACD,QAHD,MAGO;AACL,cAAKnL,QAAL,GAAgB,IAAhB;AACA,cAAKkM,cAAL;AACD;AACF;;;oCACchP,C,EAAG;AAChB,WAAM0Q,cAAczT,SAASiS,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,CAApB;AACA,WAAIxD,aAAJ;AACA,WAAItR,cAAJ;AACA,WAAI,KAAKqW,SAAT,EAAoB;AAClB,aAAI,KAAKxC,QAAT,EAAmB;AACjB,eAAI,KAAKA,QAAL,KAAkB,KAAtB,EAA6B;AAC3BvC,oBAAOlS,OAAO8L,QAAP,CAAgBoL,YAAYpP,KAAZ,CAAkBoK,IAAlC,CAAP;AACAtR,qBAAQZ,OAAO8L,QAAP,CAAgBoL,YAAYpP,KAAZ,CAAkBlH,KAAlC,IAA2C4F,EAAE2Q,SAArD;AACD,YAHD,MAGO,IAAI,KAAK1C,QAAL,KAAkB,OAAtB,EAA+B;AACpCvC,oBAAOlS,OAAO8L,QAAP,CAAgBoL,YAAYpP,KAAZ,CAAkBoK,IAAlC,IAA0C1L,EAAE2Q,SAAnD;AACAvW,qBAAQZ,OAAO8L,QAAP,CAAgBoL,YAAYpP,KAAZ,CAAkBlH,KAAlC,IAA2C4F,EAAE2Q,SAArD;AACD;AACF,UARD,MAQO;AACLjF,kBAAOlS,OAAO8L,QAAP,CAAgBoL,YAAYpP,KAAZ,CAAkBoK,IAAlC,IAA0C1L,EAAE2Q,SAAnD;AACAvW,mBAAQZ,OAAO8L,QAAP,CAAgBoL,YAAYpP,KAAZ,CAAkBlH,KAAlC,CAAR;AACD;AACF;AACD,WAAI,KAAK8V,UAAL,CAAgBxE,IAAhB,EAAsB,KAAK5I,QAA3B,KAAwC,KAAKoN,UAAL,CAAgBxE,OAAOtR,KAAvB,EAA8B,KAAK0I,QAAnC,CAA5C,EAA0F;AACxF4N,qBAAYpP,KAAZ,CAAkBoK,IAAlB,GAA4BA,IAA5B;AACAgF,qBAAYpP,KAAZ,CAAkBlH,KAAlB,GAA6BA,KAA7B;AACD;AACD,WAAMwW,SAAS,kCAAgBlF,IAAhB,EAAsB,KAAKzR,eAA3B,EAA4C,KAAKD,UAAjD,CAAf;AACA,WAAM6W,OAAO,kCAAgBnF,OAAOtR,KAAvB,EAA8B,KAAKH,eAAnC,EAAoD,KAAKD,UAAzD,CAAb;AACA,WAAM4D,QAAQ8S,YAAY3B,YAAZ,CAAyB,MAAzB,CAAd;AACA,YAAKb,UAAL,GAAkB,EAAE7O,OAAOuR,MAAT,EAAiBtR,KAAKuR,IAAtB,EAA4B/T,OAAO,KAAKJ,QAAL,CAAckB,KAAd,EAAqBd,KAAxD,EAA+DgP,QAAQ,KAAKpP,QAAL,CAAckB,KAAd,EAAqBkO,MAA5F,EAAlB;AACD;;;oCACc;AACb,WAAI,KAAKoC,UAAT,EAAqB;AACnB,cAAK9U,EAAL,CAAQ8G,IAAR,CAAa,YAAb,EAA2B,KAAKgO,UAAhC,EAA4C,KAAKpL,QAAjD;AACD;AACD,YAAK2N,SAAL,GAAiB,KAAjB;AACA,YAAKxC,QAAL,GAAgB,KAAhB;AACD;;;;;;mBAGYJ,c;;;;;;;;;;;;;;;;KC9NTiD,c;AACJ,2BAAY1X,EAAZ,EAAgBsD,QAAhB,EAA0B;AAAA;;AACxB,UAAKA,QAAL,GAAgBA,QAAhB;AACA,UAAKtD,EAAL,GAAUA,EAAV;AACA,UAAKgT,OAAL,GAAenP,SAASC,cAAT,CAAwB,UAAxB,CAAf;AACA,UAAK4F,QAAL,GAAgB,CAAhB;AACD;;;;8BACQgM,M,EAAQ;AACf,WAAIA,OAAOG,SAAP,KAAqB,YAArB,IAAqCH,OAAOG,SAAP,KAAqB,0BAA9D,EAA0F;AACxF,gBAAOH,MAAP;AACD,QAFD,MAEO;AACL,gBAAO,KAAKiC,QAAL,CAAcjC,OAAOkC,YAArB,CAAP;AACD;AACF;;;8BACQ5E,O,EAAS;AAChB,WAAI,CAACA,OAAL,EAAc;AACZ;AACD;AACD,WAAMxP,OAAOwP,QAAQxP,IAArB;AACA,WAAIqU,SAAS,EAAb;AACA,WAAIjW,OAAOoR,QAAQ2C,YAAR,CAAqB,MAArB,CAAX;AACA,eAAQnS,IAAR;AACE,cAAK,MAAL;AACEqU,oBAAS7E,QAAQlB,KAAjB;AACA;AACF,cAAK,YAAL;AACE+F,oBAAS7E,QAAQjT,OAAR,CAAgBiT,QAAQ8E,aAAxB,EAAuChG,KAAhD;AACA;AACF,cAAK,UAAL;AACE,eAAMiG,eAAe/E,QAAQgF,oBAAR,CAA6B,OAA7B,CAArB;AACA,gBAAK,IAAMzJ,CAAX,IAAgBwJ,YAAhB,EAA8B;AAC5B,iBAAIA,aAAaxJ,CAAb,EAAgBgF,OAApB,EAA6B;AAC3BsE,yBAAaE,aAAaxJ,CAAb,EAAgBuD,KAA7B;AACD;AACF;AACD;AACF,cAAK,OAAL;AACE,eAAMmG,YAAYjF,QAAQgF,oBAAR,CAA6B,OAA7B,CAAlB;AACA,gBAAK,IAAMzJ,EAAX,IAAgB0J,SAAhB,EAA2B;AACzB,iBAAIA,UAAU1J,EAAV,EAAagF,OAAjB,EAA0B;AACxBsE,wBAASI,UAAU1J,EAAV,EAAauD,KAAtB;AACD;AACF;AACD;AACF;AACE;AAxBJ;AA0BA,cAAO,CAAClQ,IAAD,EAAOiW,MAAP,CAAP;AACD;;;kCACYrT,K,EAAO;AAClB,YAAKoR,cAAL;AACA/R,gBAASiS,sBAAT,CAAgC,YAAhC,EAA8CtR,KAA9C,EAAqDqR,SAArD,GAAiE,0BAAjE;AACD;;;mCACa;AACZ,WAAMqC,cAAc,KAAKlF,OAAL,CAAa8C,sBAAb,CAAoC,eAApC,EAAqD,CAArD,CAApB;AACA,WAAI,CAACoC,WAAL,EAAkB;AAChB;AACD;AACD,WAAMtW,OAAOsW,YAAYvC,YAAZ,CAAyB,MAAzB,CAAb;AACA,WAAMvC,UAAU8E,YAAYpC,sBAAZ,CAAmC,cAAnC,CAAhB;AACA,YAAKxS,QAAL,CAAc1B,IAAd,EAAoB8Q,MAApB,CAA2ByF,SAA3B,GAAuC,EAAvC;AACA,YAAK,IAAI/M,IAAI,CAAb,EAAgBA,IAAIgI,QAAQ7N,MAA5B,EAAoC6F,GAApC,EAAyC;AACvC,aAAM+M,YAAY,KAAKC,QAAL,CAAchF,QAAQhI,CAAR,EAAW0K,sBAAX,CAAkC,WAAlC,EAA+C,CAA/C,CAAd,CAAlB;AACA,cAAKxS,QAAL,CAAc1B,IAAd,EAAoB8Q,MAApB,CAA2ByF,UAAU,CAAV,CAA3B,IAA2CA,UAAU,CAAV,CAA3C;AACD;AACF;;;sCACgB;AACf,WAAM/S,OAAOvB,SAASiS,sBAAT,CAAgC,YAAhC,CAAb;AACA,YAAK,IAAI1K,IAAI,CAAb,EAAgBA,IAAIhG,KAAKG,MAAzB,EAAiC6F,GAAjC,EAAsC;AACpChG,cAAKgG,CAAL,EAAQyK,SAAR,GAAoB,YAApB;AACD;AACF;;;iCACW;AAAA;;AACV,YAAK7C,OAAL,CAAa+B,gBAAb,CAA8B,OAA9B,EAAuC,UAACnO,CAAD,EAAO;AAC5C,aAAMhF,OAAOgF,EAAE8O,MAAF,CAASC,YAAT,CAAsB,MAAtB,CAAb;AACA,aAAM0C,QAAQ,MAAKV,QAAL,CAAc/Q,EAAE8O,MAAhB,CAAd;AACA,aAAMlR,QAAQ6T,MAAM1C,YAAN,CAAmB,MAAnB,CAAd;AACA,eAAKrP,YAAL,CAAkB9B,KAAlB;AACA,aAAI5C,SAAS,OAAT,IAAoB,MAAK8H,QAAL,KAAkBlF,KAA1C,EAAiD;AAC/C,iBAAKxE,EAAL,CAAQ8G,IAAR,CAAa,YAAb,EAA2BtC,KAA3B;AACD;AACD,eAAKkF,QAAL,GAAgBlF,KAAhB;AACD,QATD;AAUA,YAAKwO,OAAL,CAAa+B,gBAAb,CAA8B,YAA9B,EAA4C,YAAM;AAChD,eAAKuD,WAAL;AACA,eAAKtY,EAAL,CAAQ8G,IAAR,CAAa,MAAb,EAAqB,MAAKxD,QAA1B;AACD,QAHD;AAID;;;;;;mBAGYoU,c;;;;;;;;;;;;;;AC1Ff;;;;;;;;;;;;;;;kCAGsBzO,G,EAAKxI,Y,EAAcT,E,EAAI;AACzC,WAAI,OAAQiJ,GAAR,KAAiB,QAArB,EAA+B;AAC7B,gBAAO,wBAAcA,GAAd,EAAmBxI,YAAnB,EAAiCT,EAAjC,CAAP;AACD;;AAED,aAAM,IAAIG,KAAJ,CAAU,sBAAV,CAAN;AACD;;;;;;;;;;;;;;;;;;;;;;ACTH;;;;;;;;;;;;;;;;;;;;;;;;;AAIE;;;4BAGO;AAAA;;AACL,cAAO,IAAI+G,OAAJ,CAAY,UAACmK,OAAD,EAAUkH,MAAV,EAAqB;AACtC,aAAMC,MAAM,IAAIC,cAAJ,EAAZ;AACAD,aAAIE,IAAJ,CAAS,KAAT,EAAgB,OAAKzP,GAArB,EAA0B,IAA1B;AACAuP,aAAIG,YAAJ,GAAmB,aAAnB;AACAH,aAAII,IAAJ;;AAEAJ,aAAIzD,gBAAJ,CAAqB,UAArB,EAAiC,UAACnO,CAAD,EAAO;AACtC,4HAAmBA,CAAnB;AACD,UAFD;;AAIA4R,aAAIzD,gBAAJ,CAAqB,MAArB,EAA6B,UAACnO,CAAD,EAAO;AAClC,eAAMiS,8HAAgCjS,CAAhC,CAAN;;AAEAiS,0BAAevQ,IAAf,CAAoB,UAACc,WAAD,EAAiB;AACnCiI,qBAAQjI,WAAR;AACD,YAFD;AAGD,UAND;;AAQAoP,aAAIzD,gBAAJ,CAAqB,OAArB,EAA8B,YAAM;AAClCwD,kBAAOpY,iBAAe,OAAK8I,GAApB,qBAAP;AACD,UAFD;AAGD,QArBM,CAAP;AAsBD;;;;;;;;;;;;;;;;;;;;;AC9BH;;;;;;;;AAEO,KAAM6P,oDAAsB,CAA5B;AACA,KAAMC,wCAAgB,CAAtB;AACA,KAAMC,0CAAiB,CAAvB;AACA,KAAMC,0CAAiB,CAAvB;;;AAIL,mBAAYhQ,GAAZ,EAAiBxI,YAAjB,EAAoD;AAAA,SAArBT,EAAqB,uEAAhB,6BAAgB;;AAAA;;AAClD,UAAKiJ,GAAL,GAAWA,GAAX;AACA,UAAKtI,EAAL,GAAUF,YAAV;AACA,UAAKyY,iBAAL,GAAyBJ,mBAAzB;AACA,UAAK9Y,EAAL,GAAUA,EAAV;AACD;;;;oCAEcyS,K,EAAO;AACpB,YAAKyG,iBAAL,GAAyBzG,KAAzB;AACA,YAAKzS,EAAL,CAAQ8G,IAAR,CAAa,yBAAb,EAAwC,KAAKoS,iBAA7C,EAAgE,KAAKjQ,GAArE;AACD;;;kCAEYrC,C,EAAG;AACd,WAAIuS,kBAAkB,CAAtB;;AAEA,WAAI,KAAKD,iBAAL,KAA2BJ,mBAA/B,EAAoD;AAClD,cAAKM,cAAL,CAAoBL,aAApB;AACD;;AAED,WAAInS,EAAEyS,gBAAN,EAAwB;AACtBF,2BAAmBvS,EAAE0S,MAAF,GAAW1S,EAAE2S,KAAd,GAAuB,GAAzC;AACD;;AAED,YAAKvZ,EAAL,CAAQ8G,IAAR,CAAa,cAAb,EAA6BqS,eAA7B,EAA8C,KAAKlQ,GAAnD;AACD;;;8BAEQrC,C,EAAG;AAAA;;AACV,WAAM4S,YAAY5S,EAAE8O,MAAF,CAAS+D,QAAT,IAAqB7S,EAAE8O,MAAF,CAASgE,MAAhD;;AAEA,YAAKN,cAAL,CAAoBJ,cAApB;;AAEA,cAAO,IAAI9R,OAAJ,CAAY,UAACmK,OAAD,EAAUkH,MAAV,EAAqB;AACtC,eAAK5X,EAAL,CAAQgZ,eAAR,CACEH,SADF,EAEE,UAACpQ,WAAD,EAAiB;AACf,iBAAKA,WAAL,GAAmBA,WAAnB;AACA,iBAAKgQ,cAAL,CAAoBH,cAApB;;AAEA5H,mBAAQjI,WAAR;AACD,UAPH,EAQE,UAACwQ,GAAD,EAAS;AACPrB,kBAAOqB,GAAP;AACD,UAVH;AAYD,QAbM,CAAP;AAcD","file":"waveGeneral.var.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/waveGeneral/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 03e14da6e37e16daeae4","import _assign from 'lodash.assign';\r\nimport EventEmitter from 'event-emitter';\r\nimport Playlist from './Playlist';\r\n\r\n\r\nexport function init(options = {}, ee = EventEmitter()) {\r\n  if (options.container === undefined) {\r\n    throw new Error('DOM element container must be given.');\r\n  }\r\n\r\n  window.OfflineAudioContext = window.OfflineAudioContext || window.webkitOfflineAudioContext;\r\n  window.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n\r\n  const audioContext = new window.AudioContext();\r\n\r\n  const defaults = {\r\n    ac: audioContext,\r\n    sampleRate: audioContext.sampleRate,\r\n    samplesPerPixel: 128,\r\n    controls: {\r\n      show: false,\r\n      width: 150,\r\n    },\r\n    colors: {\r\n      waveOutlineColor: 'white',\r\n      timeColor: 'grey',\r\n      fadeColor: 'black',\r\n    },\r\n    waveHeight: 256,\r\n    zoomLevels: [128, 256, 512, 1024, 2048, 4096, 8192, 16384],\r\n  };\r\n\r\n  const config = _assign(defaults, options);\r\n  const zoomIndex = config.zoomLevels.indexOf(config.samplesPerPixel);\r\n\r\n  if (zoomIndex === -1) {\r\n    throw new Error('initial samplesPerPixel must be included in array zoomLevels');\r\n  }\r\n  const playlist = new Playlist();\r\n  playlist.setSampleName(config.name);\r\n  playlist.setDataInfo();\r\n  playlist.setSampleRate(config.sampleRate);\r\n  playlist.setSamplesPerPixel(config.samplesPerPixel);\r\n  playlist.setAudioContext(config.ac);\r\n  playlist.setEventEmitter(ee);\r\n  playlist.setUpEventEmitter();                       // 初始化音频通用方法\r\n  playlist.setControlOptions(config.controls);        // 宽度以及show设置\r\n  playlist.setWaveHeight(config.waveHeight);\r\n  playlist.setColors(config.colors);\r\n  playlist.setZoomLevels(config.zoomLevels);\r\n  playlist.setZoomIndex(zoomIndex);\r\n  playlist.setDefault();\r\n  playlist.isAutomaticScroll = config.isAutomaticScroll;\r\n  playlist.isContinuousPlay = config.isContinuousPlay;\r\n  playlist.linkedEndpoints = config.linkedEndpoints;\r\n\r\n  playlist.render();\r\n  return playlist;\r\n}\r\n\r\nexport default function (options = {}, ee = EventEmitter()) {\r\n  return init(options, ee);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash.assign/index.js\n// module id = 1\n// module chunks = 0","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/event-emitter/index.js\n// module id = 2\n// module chunks = 0","'use strict';\n\nvar assign        = require('es5-ext/object/assign')\n  , normalizeOpts = require('es5-ext/object/normalize-options')\n  , isCallable    = require('es5-ext/object/is-callable')\n  , contains      = require('es5-ext/string/#/contains')\n\n  , d;\n\nd = module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif ((arguments.length < 2) || (typeof dscr !== 'string')) {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (dscr == null) {\n\t\tc = w = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t\tw = contains.call(dscr, 'w');\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== 'string') {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (get == null) {\n\t\tget = undefined;\n\t} else if (!isCallable(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (set == null) {\n\t\tset = undefined;\n\t} else if (!isCallable(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (dscr == null) {\n\t\tc = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d/index.js\n// module id = 3\n// module chunks = 0","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? Object.assign\n\t: require(\"./shim\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/assign/index.js\n// module id = 4\n// module chunks = 0","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn (obj.foo + obj.bar + obj.trzy) === \"razdwatrzy\";\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/assign/is-implemented.js\n// module id = 5\n// module chunks = 0","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src /*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/assign/shim.js\n// module id = 6\n// module chunks = 0","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? Object.keys\n\t: require(\"./shim\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/keys/index.js\n// module id = 7\n// module chunks = 0","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n return false;\n}\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/keys/is-implemented.js\n// module id = 8\n// module chunks = 0","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) {\n\treturn keys(isValue(object) ? Object(object) : object);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/keys/shim.js\n// module id = 9\n// module chunks = 0","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) {\n return (val !== _undefined) && (val !== null);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/is-value.js\n// module id = 10\n// module chunks = 0","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/function/noop.js\n// module id = 11\n// module chunks = 0","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/valid-value.js\n// module id = 12\n// module chunks = 0","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1 /*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/normalize-options.js\n// module id = 13\n// module chunks = 0","// Deprecated\n\n\"use strict\";\n\nmodule.exports = function (obj) {\n return typeof obj === \"function\";\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/is-callable.js\n// module id = 14\n// module chunks = 0","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? String.prototype.contains\n\t: require(\"./shim\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/string/#/contains/index.js\n// module id = 15\n// module chunks = 0","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn (str.contains(\"dwa\") === true) && (str.contains(\"foo\") === false);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/string/#/contains/is-implemented.js\n// module id = 16\n// module chunks = 0","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/string/#/contains/shim.js\n// module id = 17\n// module chunks = 0","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/valid-callable.js\n// module id = 18\n// module chunks = 0","import _defaults from 'lodash.defaults';\r\n\r\nimport createElement from 'virtual-dom/create-element';\r\n\r\nimport TimeScale from './render/TimeScale';\r\nimport Track from './render/Track';\r\nimport Playout from './Playout';\r\nimport PlayedHook from './render/PlayedHook';\r\nimport FragHook from './render/FragHook';\r\nimport FormHook from './render/FormHook';\r\n\r\nimport FragController from './track/controller/FragController';\r\nimport FormController from './track/controller/FormController';\r\n\r\nimport LoaderFactory from './track/loader/LoaderFactory';\r\n\r\nexport default class {\r\n  constructor() {\r\n    this.defaults = _defaults;\r\n    this.duration = 0;\r\n    this.scrollLeft = 0;\r\n    this.tracks = [];\r\n    this.timer = null;\r\n    this.cycle = true;\r\n\r\n    this.startTime = 0;\r\n    this.stopTime = 0;\r\n    this.pauseTime = 0;\r\n    this.lastPlay = 0;\r\n    this.formInfo = [];\r\n    this.typeArr = [{ type: 'input', sort: 'form1', title: '标题', option: '' },\r\n                     { type: 'select', sort: 'form2', title: 'select', option: ['苹果', '香蕉', '橘子'] },\r\n                     // { type: 'checkbox', sort: 'form3', title: 'checkbox', option: ['苹果', '香蕉', '橘子'] },\r\n                     // { type: 'radio', sort: 'form4', title: 'radio', option: ['苹果', '香蕉', '橘子'] }\r\n                     ];\r\n\r\n    this.fragDom = document.getElementById('waveFrag');\r\n    this.canvasDom = document.getElementById('waveCanvse');\r\n  }\r\n  // 设置初始值\r\n  setDefault(info) {\r\n    this.markData = info || this.markData;\r\n  }\r\n  // 设置项目名称ID\r\n  setSampleName(name) {\r\n    this.name = name;\r\n  }\r\n  // 设置初始值\r\n  setDataInfo() {\r\n    if (localStorage[this.name] && localStorage[this.name] !== '[]') {\r\n      this.formInfo = JSON.parse(localStorage[this.name]);\r\n    }\r\n  }\r\n  // 设置循环\r\n  setCycle(bol) {\r\n    this.cycle = bol;\r\n  }\r\n  // 音频码率\r\n  setSampleRate(sampleRate) {\r\n    this.sampleRate = sampleRate;\r\n  }\r\n  // 音频初始缩放比例\r\n  setSamplesPerPixel(samplesPerPixel) {\r\n    this.samplesPerPixel = samplesPerPixel;\r\n  }\r\n  // 音频AudioContext初始化\r\n  setAudioContext(ac) {\r\n    this.ac = ac;\r\n  }\r\n  // 初始化事件模块\r\n  setEventEmitter(ee) {\r\n    this.ee = ee;\r\n  }\r\n  // 设置wave高度\r\n  setWaveHeight(height) {\r\n    this.waveHeight = height;\r\n  }\r\n  // 设置曲线的颜色\r\n  setColors(colors) {\r\n    this.colors = colors;\r\n  }\r\n  // 设置缩放的区间\r\n  setZoomLevels(levels) {\r\n    this.zoomLevels = levels;\r\n  }\r\n  // 设置缩放index\r\n  setZoomIndex(index) {\r\n    this.zoomIndex = index;\r\n  }\r\n  // 设置缩放比例\r\n  setZoom(zoomIndex) {\r\n    const zoom = this.zoomLevels[zoomIndex];\r\n    this.samplesPerPixel = zoom;\r\n    this.tracks.forEach((track) => {\r\n      track.calculatePeaks(zoom, this.sampleRate);\r\n    });\r\n  }\r\n  // 设置show\r\n  setControlOptions(controlOptions) {\r\n    this.controls = controlOptions;\r\n  }\r\n  // 保存数据\r\n  saveLocalStorage() {\r\n    localStorage.setItem(this.name, JSON.stringify(this.formInfo));\r\n  }\r\n  // 工具类\r\n  adjustDuration() {\r\n    this.duration = this.tracks.reduce(\r\n      (duration, track) => Math.max(duration, track.getEndTime()),\r\n      0,\r\n    );\r\n  }\r\n  // 添加新片段\r\n  setFragHook(frag) {\r\n    this.fragHook.renderAdd(frag, this.formInfo.length - 1);\r\n    this.formHook.renderAdd(frag, this.formInfo.length - 1);\r\n  }\r\n  changeFragHook(frag, index) {\r\n    this.formInfo.splice(index, 1, frag);\r\n    this.formHook.render();\r\n  }\r\n  deleteFragHook(index) {\r\n    this.formInfo.splice(index, 1);\r\n    this.fragHook.render();\r\n    this.formHook.render();\r\n  }\r\n\r\n  // 控制模块\r\n  setUpEventEmitter() {\r\n    const ee = this.ee;\r\n    this.fragController = new FragController(ee, this.fragDom, this.formInfo, this.samplesPerPixel, this.sampleRate);\r\n    this.fragController.bindEvent();\r\n    this.formController = new FormController(ee, this.formInfo);\r\n    this.formController.bindEvent();\r\n    ee.on('play', (startTime, endTime) => {\r\n      this.play(startTime, endTime);\r\n    });\r\n    ee.on('pause', () => {\r\n      this.pause();\r\n    });\r\n    ee.on('playFrag', (index) => {\r\n      const start = this.formInfo[index].start;\r\n      const end = this.formInfo[index].end - start;\r\n      this.play(start, end);\r\n    });\r\n    ee.on('changeFrag', (frag, index) => {\r\n      this.changeFragHook(frag, index);\r\n    });\r\n    ee.on('addFrag', (frag) => {\r\n      this.formInfo.push(frag);\r\n      this.setFragHook(frag);\r\n    });\r\n    ee.on('selectdFrag', (index) => {\r\n      this.formController.setClassName(index);\r\n    });\r\n    ee.on('deleteFrag', (index) => {\r\n      this.deleteFragHook(index);\r\n    });\r\n    ee.on('zoom', (index) => {\r\n      this.zoom(index);\r\n    });\r\n    ee.on('save', (formData) => {\r\n      this.saveLocalStorage(formData);\r\n    });\r\n    document.body.onmousewheel = (e) => {\r\n      const zoomIndex = e.deltaY === 100 ? 1 : -1;\r\n      ee.emit('zoom', zoomIndex);\r\n    };\r\n  }\r\n  // 是否播放\r\n  isPlaying() {\r\n    return this.tracks.reduce(\r\n      (isPlaying, track) => isPlaying || track.isPlaying(),\r\n      false,\r\n    );\r\n  }\r\n  // 获取间隔时间TODO\r\n  getElapsedTime() {\r\n    return this.ac.currentTime - this.lastPlay;\r\n  }\r\n  // 停止\r\n  playbackReset() {\r\n    this.tracks.forEach((track) => {\r\n      track.scheduleStop();\r\n    });\r\n\r\n    return Promise.all(this.playoutPromises);\r\n  }\r\n  // 启动动画\r\n  startAnimation() {\r\n    this.stopAnimation();\r\n    this.timer = requestAnimationFrame((step) => {\r\n      this.stepStart = step;\r\n      this.animationRequest(step);\r\n    });\r\n  }\r\n  animationRequest(step) {\r\n    const stepStart = (step - this.stepStart) / 1000;\r\n    this.lastPlay = this.startTime ? this.startTime + stepStart : this.pauseTime + stepStart;\r\n    this.renderPlayed(this.lastPlay);\r\n    this.timer = requestAnimationFrame((steps) => {\r\n      this.animationRequest(steps);\r\n    });\r\n    if (this.lastPlay >= this.startTime + this.endTime) {\r\n      if (this.cycle) {\r\n        this.play(this.startTime, this.endTime);\r\n        return;\r\n      }\r\n      this.stopAnimation();\r\n      this.pauseTime = this.lastPlay;\r\n    }\r\n  }\r\n  // 停止动画\r\n  stopAnimation() {\r\n    window.cancelAnimationFrame(this.timer);\r\n  }\r\n  // demo\r\n  demo() {\r\n    this.ee.emit('selectdFrag', 0);\r\n  }\r\n\r\n  // 播放\r\n  play(startTime, endTime) {\r\n    const start = startTime || this.pauseTime;\r\n    const end = endTime || this.duration;\r\n    this.startTime = startTime;\r\n    this.endTime = end;\r\n    if (this.isPlaying()) {\r\n      return this.restartPlayFrom(start, end);\r\n    }\r\n    this.startAnimation();\r\n    const playoutPromises = [];\r\n    const currentTime = this.ac.currentTime;\r\n    this.tracks.forEach((track) => {\r\n      playoutPromises.push(track.schedulePlay(currentTime, start, end, {\r\n        shouldPlay: true,\r\n        masterGain: this.masterGain,\r\n      }));\r\n    });\r\n    this.playoutPromises = playoutPromises;\r\n\r\n    document.getElementById('play').style.display = 'none';\r\n    return Promise.all(this.playoutPromises);\r\n  }\r\n  // 暂停\r\n  pause() {\r\n    if (!this.isPlaying()) {\r\n      return Promise.all(this.playoutPromises);\r\n    }\r\n    this.stopAnimation();\r\n    this.pauseTime = this.lastPlay;\r\n    document.getElementById('play').style.display = 'block';\r\n    return this.playbackReset();\r\n  }\r\n  // 停止\r\n  stop() {\r\n    this.stopAnimation();\r\n    this.pauseTime = 0;\r\n    this.renderPlayed(this.pauseTime);\r\n    return this.playbackReset();\r\n  }\r\n  // 重新播放\r\n  restartPlayFrom(start, end) {\r\n    this.stopAnimation();\r\n\r\n    this.tracks.forEach((editor) => {\r\n      editor.scheduleStop();\r\n    });\r\n\r\n    return Promise.all(this.playoutPromises).then(this.play.bind(this, start, end));\r\n  }\r\n  // 缩放大小\r\n  zoom(zoomStyle) {\r\n    const index = this.zoomIndex + zoomStyle;\r\n    if (index < this.zoomLevels.length && index >= 0) {\r\n      this.zoomIndex = index;\r\n    }\r\n    this.setZoom(this.zoomIndex);\r\n    this.fragController.setSamples(this.samplesPerPixel, this.sampleRate);\r\n    this.renderPlayed(this.pauseTime);\r\n    this.render();\r\n  }\r\n\r\n  // 加载音频并初始化显示\r\n  load(trackList) {\r\n    const loadPromises = trackList.map((trackInfo) => {\r\n      const loader = LoaderFactory.createLoader(trackInfo.src, this.ac, this.ee);\r\n      return loader.load();\r\n    });\r\n    return Promise.all(loadPromises).then((audioBuffers) => {\r\n      const tracks = audioBuffers.map((audioBuffer, index) => {\r\n        const info = trackList[index];\r\n        const name = info.name || 'Untitled';\r\n        const cueIn = info.cuein || 0;\r\n        const cueOut = info.cueout || audioBuffer.duration;\r\n        const selection = info.selected;\r\n        const peaks = info.peaks || { type: 'WebAudio', mono: this.mono };\r\n        const waveOutlineColor = info.waveOutlineColor || undefined;\r\n        const playout = new Playout(this.ac, audioBuffer);\r\n        const track = new Track(this.fragDom);\r\n        track.src = info.src;\r\n        track.setBuffer(audioBuffer);\r\n        track.setName(name);\r\n        track.setCues(cueIn, cueOut);\r\n        track.setWaveOutlineColor(waveOutlineColor);\r\n\r\n        if (selection !== undefined) {\r\n          this.setActiveTrack(track);\r\n          this.setTimeSelection(selection.start, selection.end);\r\n        }\r\n        if (peaks !== undefined) {\r\n          track.setPeakData(peaks);\r\n        }\r\n\r\n        track.setPlayout(playout);\r\n\r\n        track.calculatePeaks(this.samplesPerPixel, this.sampleRate);\r\n        return track;\r\n      });\r\n\r\n      this.tracks = this.tracks.concat(tracks);\r\n      this.adjustDuration();\r\n      this.render();\r\n    });\r\n  }\r\n  // 时间刻度记载\r\n  renderTimeScale() {\r\n    const controlWidth = this.controls.show ? this.controls.width : 0;\r\n    const timeScale = new TimeScale(this.duration, this.scrollLeft,\r\n      this.samplesPerPixel, this.sampleRate, controlWidth);\r\n    return timeScale.render();\r\n  }\r\n  // 波形图绘制\r\n  renderTrackSection() {\r\n    const trackElements = this.tracks.map(track =>\r\n      track.render(),\r\n    );\r\n    return trackElements;\r\n  }\r\n  // 播放过音频控制\r\n  renderPlayed(seconds) {\r\n    const played = new PlayedHook(seconds, this.samplesPerPixel, this.sampleRate, this.duration);\r\n    return played.render();\r\n  }\r\n  // 加载片段框\r\n  renderFrag() {\r\n    this.fragHook = new FragHook(this.fragDom, this.formInfo, this.samplesPerPixel, this.sampleRate, this.ee);\r\n    this.fragHook.render();\r\n    this.formHook = new FormHook(this.typeArr, this.formInfo, this.samplesPerPixel, this.sampleRate, this.ee);\r\n    this.formHook.render();\r\n  }\r\n  // 加载页面\r\n  render() {\r\n    const timeTree = this.renderTimeScale();\r\n    const timeNode = createElement(timeTree);\r\n    document.getElementById('timescale').innerHTML = '';\r\n    document.getElementById('timescale').appendChild(timeNode);\r\n\r\n    const canvasTree = this.renderTrackSection();\r\n    this.canvasDom.innerHTML = '';\r\n    if (canvasTree.length !== 0) {\r\n      for (let i = 0; i < canvasTree.length; i++) {\r\n        const canvasNode = createElement(canvasTree[i][0]);\r\n        this.canvasDom.appendChild(canvasNode);\r\n      }\r\n    }\r\n\r\n    this.renderFrag();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Playlist.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction assignInDefaults(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(args) {\n  args.push(undefined, assignInDefaults);\n  return apply(assignInWith, undefined, args);\n});\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = defaults;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash.defaults/index.js\n// module id = 20\n// module chunks = 0","var createElement = require(\"./vdom/create-element.js\")\n\nmodule.exports = createElement\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/create-element.js\n// module id = 21\n// module chunks = 0","var document = require(\"global/document\")\n\nvar applyProperties = require(\"./apply-properties\")\n\nvar isVNode = require(\"../vnode/is-vnode.js\")\nvar isVText = require(\"../vnode/is-vtext.js\")\nvar isWidget = require(\"../vnode/is-widget.js\")\nvar handleThunk = require(\"../vnode/handle-thunk.js\")\n\nmodule.exports = createElement\n\nfunction createElement(vnode, opts) {\n    var doc = opts ? opts.document || document : document\n    var warn = opts ? opts.warn : null\n\n    vnode = handleThunk(vnode).a\n\n    if (isWidget(vnode)) {\n        return vnode.init()\n    } else if (isVText(vnode)) {\n        return doc.createTextNode(vnode.text)\n    } else if (!isVNode(vnode)) {\n        if (warn) {\n            warn(\"Item is not a valid virtual dom node\", vnode)\n        }\n        return null\n    }\n\n    var node = (vnode.namespace === null) ?\n        doc.createElement(vnode.tagName) :\n        doc.createElementNS(vnode.namespace, vnode.tagName)\n\n    var props = vnode.properties\n    applyProperties(node, props)\n\n    var children = vnode.children\n\n    for (var i = 0; i < children.length; i++) {\n        var childNode = createElement(children[i], opts)\n        if (childNode) {\n            node.appendChild(childNode)\n        }\n    }\n\n    return node\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vdom/create-element.js\n// module id = 22\n// module chunks = 0","var topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\n\nmodule.exports = doccy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/global/document.js\n// module id = 23\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// min-document (ignored)\n// module id = 24\n// module chunks = 0","var isObject = require(\"is-object\")\nvar isHook = require(\"../vnode/is-vhook.js\")\n\nmodule.exports = applyProperties\n\nfunction applyProperties(node, props, previous) {\n    for (var propName in props) {\n        var propValue = props[propName]\n\n        if (propValue === undefined) {\n            removeProperty(node, propName, propValue, previous);\n        } else if (isHook(propValue)) {\n            removeProperty(node, propName, propValue, previous)\n            if (propValue.hook) {\n                propValue.hook(node,\n                    propName,\n                    previous ? previous[propName] : undefined)\n            }\n        } else {\n            if (isObject(propValue)) {\n                patchObject(node, props, previous, propName, propValue);\n            } else {\n                node[propName] = propValue\n            }\n        }\n    }\n}\n\nfunction removeProperty(node, propName, propValue, previous) {\n    if (previous) {\n        var previousValue = previous[propName]\n\n        if (!isHook(previousValue)) {\n            if (propName === \"attributes\") {\n                for (var attrName in previousValue) {\n                    node.removeAttribute(attrName)\n                }\n            } else if (propName === \"style\") {\n                for (var i in previousValue) {\n                    node.style[i] = \"\"\n                }\n            } else if (typeof previousValue === \"string\") {\n                node[propName] = \"\"\n            } else {\n                node[propName] = null\n            }\n        } else if (previousValue.unhook) {\n            previousValue.unhook(node, propName, propValue)\n        }\n    }\n}\n\nfunction patchObject(node, props, previous, propName, propValue) {\n    var previousValue = previous ? previous[propName] : undefined\n\n    // Set attributes\n    if (propName === \"attributes\") {\n        for (var attrName in propValue) {\n            var attrValue = propValue[attrName]\n\n            if (attrValue === undefined) {\n                node.removeAttribute(attrName)\n            } else {\n                node.setAttribute(attrName, attrValue)\n            }\n        }\n\n        return\n    }\n\n    if(previousValue && isObject(previousValue) &&\n        getPrototype(previousValue) !== getPrototype(propValue)) {\n        node[propName] = propValue\n        return\n    }\n\n    if (!isObject(node[propName])) {\n        node[propName] = {}\n    }\n\n    var replacer = propName === \"style\" ? \"\" : undefined\n\n    for (var k in propValue) {\n        var value = propValue[k]\n        node[propName][k] = (value === undefined) ? replacer : value\n    }\n}\n\nfunction getPrototype(value) {\n    if (Object.getPrototypeOf) {\n        return Object.getPrototypeOf(value)\n    } else if (value.__proto__) {\n        return value.__proto__\n    } else if (value.constructor) {\n        return value.constructor.prototype\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vdom/apply-properties.js\n// module id = 25\n// module chunks = 0","\"use strict\";\n\nmodule.exports = function isObject(x) {\n\treturn typeof x === \"object\" && x !== null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/is-object/index.js\n// module id = 26\n// module chunks = 0","module.exports = isHook\n\nfunction isHook(hook) {\n    return hook &&\n      (typeof hook.hook === \"function\" && !hook.hasOwnProperty(\"hook\") ||\n       typeof hook.unhook === \"function\" && !hook.hasOwnProperty(\"unhook\"))\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/is-vhook.js\n// module id = 27\n// module chunks = 0","var version = require(\"./version\")\n\nmodule.exports = isVirtualNode\n\nfunction isVirtualNode(x) {\n    return x && x.type === \"VirtualNode\" && x.version === version\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/is-vnode.js\n// module id = 28\n// module chunks = 0","module.exports = \"2\"\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/version.js\n// module id = 29\n// module chunks = 0","var version = require(\"./version\")\n\nmodule.exports = isVirtualText\n\nfunction isVirtualText(x) {\n    return x && x.type === \"VirtualText\" && x.version === version\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/is-vtext.js\n// module id = 30\n// module chunks = 0","module.exports = isWidget\n\nfunction isWidget(w) {\n    return w && w.type === \"Widget\"\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/is-widget.js\n// module id = 31\n// module chunks = 0","var isVNode = require(\"./is-vnode\")\nvar isVText = require(\"./is-vtext\")\nvar isWidget = require(\"./is-widget\")\nvar isThunk = require(\"./is-thunk\")\n\nmodule.exports = handleThunk\n\nfunction handleThunk(a, b) {\n    var renderedA = a\n    var renderedB = b\n\n    if (isThunk(b)) {\n        renderedB = renderThunk(b, a)\n    }\n\n    if (isThunk(a)) {\n        renderedA = renderThunk(a, null)\n    }\n\n    return {\n        a: renderedA,\n        b: renderedB\n    }\n}\n\nfunction renderThunk(thunk, previous) {\n    var renderedThunk = thunk.vnode\n\n    if (!renderedThunk) {\n        renderedThunk = thunk.vnode = thunk.render(previous)\n    }\n\n    if (!(isVNode(renderedThunk) ||\n            isVText(renderedThunk) ||\n            isWidget(renderedThunk))) {\n        throw new Error(\"thunk did not return a valid node\");\n    }\n\n    return renderedThunk\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/handle-thunk.js\n// module id = 32\n// module chunks = 0","module.exports = isThunk\r\n\r\nfunction isThunk(t) {\r\n    return t && t.type === \"Thunk\"\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/is-thunk.js\n// module id = 33\n// module chunks = 0","import h from 'virtual-dom/h';\r\n\r\nimport { secondsToPixels } from '../utils/conversions';\r\nimport TimeScaleHook from '../render/TimeScaleHook';\r\n\r\nclass TimeScale {\r\n  constructor(duration, offset, samplesPerPixel, sampleRate) {\r\n    this.duration = duration;\r\n    this.offset = offset;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n    this.marginLeft = 0;\r\n\r\n    this.timeinfo = {\r\n      20000: {\r\n        marker: 30000,\r\n        bigStep: 10000,\r\n        smallStep: 5000,\r\n        secondStep: 5,\r\n      },\r\n      12000: {\r\n        marker: 15000,\r\n        bigStep: 5000,\r\n        smallStep: 1000,\r\n        secondStep: 1,\r\n      },\r\n      10000: {\r\n        marker: 10000,\r\n        bigStep: 5000,\r\n        smallStep: 1000,\r\n        secondStep: 1,\r\n      },\r\n      5000: {\r\n        marker: 5000,\r\n        bigStep: 1000,\r\n        smallStep: 500,\r\n        secondStep: 1 / 2,\r\n      },\r\n      2500: {\r\n        marker: 2000,\r\n        bigStep: 1000,\r\n        smallStep: 500,\r\n        secondStep: 1 / 2,\r\n      },\r\n      1500: {\r\n        marker: 2000,\r\n        bigStep: 1000,\r\n        smallStep: 200,\r\n        secondStep: 1 / 5,\r\n      },\r\n      700: {\r\n        marker: 1000,\r\n        bigStep: 500,\r\n        smallStep: 100,\r\n        secondStep: 1 / 10,\r\n      },\r\n    };\r\n  }\r\n\r\n  getScaleInfo(resolution) {\r\n    let keys = Object.keys(this.timeinfo).map(item => parseInt(item, 10));\r\n\r\n    // make sure keys are numerically sorted.\r\n    keys = keys.sort((a, b) => a - b);\r\n\r\n    for (let i = 0; i < keys.length; i += 1) {\r\n      if (resolution <= keys[i]) {\r\n        return this.timeinfo[keys[i]];\r\n      }\r\n    }\r\n\r\n    return this.timeinfo[keys[0]];\r\n  }\r\n\r\n  /*\r\n    Return time in format mm:ss\r\n  */\r\n  static formatTime(milliseconds) {\r\n    const seconds = milliseconds / 1000;\r\n    let s = seconds % 60;\r\n    const m = (seconds - s) / 60;\r\n\r\n    if (s < 10) {\r\n      s = `0${s}`;\r\n    }\r\n\r\n    return `${m}:${s}`;\r\n  }\r\n\r\n  render() {\r\n    const widthX = secondsToPixels(this.duration, this.samplesPerPixel, this.sampleRate);\r\n    const pixPerSec = this.sampleRate / this.samplesPerPixel;\r\n    const pixOffset = secondsToPixels(this.offset, this.samplesPerPixel, this.sampleRate);\r\n    const scaleInfo = this.getScaleInfo(this.samplesPerPixel);\r\n    const canvasInfo = {};\r\n    const timeMarkers = [];\r\n    const end = widthX + pixOffset;\r\n    let counter = 0;\r\n\r\n    for (let i = 0; i < end; i += (pixPerSec * scaleInfo.secondStep)) {\r\n      const pixIndex = Math.floor(i);\r\n      const pix = pixIndex - pixOffset;\r\n\r\n      if (pixIndex >= pixOffset) {\r\n        // put a timestamp every 30 seconds.\r\n        if (scaleInfo.marker && (counter % scaleInfo.marker === 0)) {\r\n          timeMarkers.push(h('div.time',\r\n            {\r\n              attributes: {\r\n                style: `position: absolute; left: ${pix}px;`,\r\n              },\r\n            },\r\n            [TimeScale.formatTime(counter)],\r\n          ));\r\n\r\n          canvasInfo[pix] = 10;\r\n        } else if (scaleInfo.bigStep && (counter % scaleInfo.bigStep === 0)) {\r\n          canvasInfo[pix] = 5;\r\n        } else if (scaleInfo.smallStep && (counter % scaleInfo.smallStep === 0)) {\r\n          canvasInfo[pix] = 2;\r\n        }\r\n      }\r\n\r\n      counter += (1000 * scaleInfo.secondStep);\r\n    }\r\n    return h('div.playlist-time-scale',\r\n      {\r\n        attributes: {\r\n          style: `position: relative; left: 0; right: 0; margin-left: ${this.marginLeft}px;`,\r\n        },\r\n      },\r\n      [\r\n        timeMarkers,\r\n        h('canvas',\r\n          {\r\n            attributes: {\r\n              width: widthX,\r\n              height: 30,\r\n              style: 'position: absolute; left: 0; right: 0; top: 0; bottom: 0;',\r\n            },\r\n            hook: new TimeScaleHook(canvasInfo, this.offset, this.samplesPerPixel, this.duration),\r\n          },\r\n        ),\r\n      ],\r\n    );\r\n  }\r\n}\r\n\r\nexport default TimeScale;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/TimeScale.js","var h = require(\"./virtual-hyperscript/index.js\")\n\nmodule.exports = h\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/h.js\n// module id = 35\n// module chunks = 0","'use strict';\n\nvar isArray = require('x-is-array');\n\nvar VNode = require('../vnode/vnode.js');\nvar VText = require('../vnode/vtext.js');\nvar isVNode = require('../vnode/is-vnode');\nvar isVText = require('../vnode/is-vtext');\nvar isWidget = require('../vnode/is-widget');\nvar isHook = require('../vnode/is-vhook');\nvar isVThunk = require('../vnode/is-thunk');\n\nvar parseTag = require('./parse-tag.js');\nvar softSetHook = require('./hooks/soft-set-hook.js');\nvar evHook = require('./hooks/ev-hook.js');\n\nmodule.exports = h;\n\nfunction h(tagName, properties, children) {\n    var childNodes = [];\n    var tag, props, key, namespace;\n\n    if (!children && isChildren(properties)) {\n        children = properties;\n        props = {};\n    }\n\n    props = props || properties || {};\n    tag = parseTag(tagName, props);\n\n    // support keys\n    if (props.hasOwnProperty('key')) {\n        key = props.key;\n        props.key = undefined;\n    }\n\n    // support namespace\n    if (props.hasOwnProperty('namespace')) {\n        namespace = props.namespace;\n        props.namespace = undefined;\n    }\n\n    // fix cursor bug\n    if (tag === 'INPUT' &&\n        !namespace &&\n        props.hasOwnProperty('value') &&\n        props.value !== undefined &&\n        !isHook(props.value)\n    ) {\n        props.value = softSetHook(props.value);\n    }\n\n    transformProperties(props);\n\n    if (children !== undefined && children !== null) {\n        addChild(children, childNodes, tag, props);\n    }\n\n\n    return new VNode(tag, props, childNodes, key, namespace);\n}\n\nfunction addChild(c, childNodes, tag, props) {\n    if (typeof c === 'string') {\n        childNodes.push(new VText(c));\n    } else if (typeof c === 'number') {\n        childNodes.push(new VText(String(c)));\n    } else if (isChild(c)) {\n        childNodes.push(c);\n    } else if (isArray(c)) {\n        for (var i = 0; i < c.length; i++) {\n            addChild(c[i], childNodes, tag, props);\n        }\n    } else if (c === null || c === undefined) {\n        return;\n    } else {\n        throw UnexpectedVirtualElement({\n            foreignObject: c,\n            parentVnode: {\n                tagName: tag,\n                properties: props\n            }\n        });\n    }\n}\n\nfunction transformProperties(props) {\n    for (var propName in props) {\n        if (props.hasOwnProperty(propName)) {\n            var value = props[propName];\n\n            if (isHook(value)) {\n                continue;\n            }\n\n            if (propName.substr(0, 3) === 'ev-') {\n                // add ev-foo support\n                props[propName] = evHook(value);\n            }\n        }\n    }\n}\n\nfunction isChild(x) {\n    return isVNode(x) || isVText(x) || isWidget(x) || isVThunk(x);\n}\n\nfunction isChildren(x) {\n    return typeof x === 'string' || isArray(x) || isChild(x);\n}\n\nfunction UnexpectedVirtualElement(data) {\n    var err = new Error();\n\n    err.type = 'virtual-hyperscript.unexpected.virtual-element';\n    err.message = 'Unexpected virtual child passed to h().\\n' +\n        'Expected a VNode / Vthunk / VWidget / string but:\\n' +\n        'got:\\n' +\n        errorString(data.foreignObject) +\n        '.\\n' +\n        'The parent vnode is:\\n' +\n        errorString(data.parentVnode)\n        '\\n' +\n        'Suggested fix: change your `h(..., [ ... ])` callsite.';\n    err.foreignObject = data.foreignObject;\n    err.parentVnode = data.parentVnode;\n\n    return err;\n}\n\nfunction errorString(obj) {\n    try {\n        return JSON.stringify(obj, null, '    ');\n    } catch (e) {\n        return String(obj);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/virtual-hyperscript/index.js\n// module id = 36\n// module chunks = 0","var nativeIsArray = Array.isArray\nvar toString = Object.prototype.toString\n\nmodule.exports = nativeIsArray || isArray\n\nfunction isArray(obj) {\n    return toString.call(obj) === \"[object Array]\"\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/x-is-array/index.js\n// module id = 37\n// module chunks = 0","var version = require(\"./version\")\nvar isVNode = require(\"./is-vnode\")\nvar isWidget = require(\"./is-widget\")\nvar isThunk = require(\"./is-thunk\")\nvar isVHook = require(\"./is-vhook\")\n\nmodule.exports = VirtualNode\n\nvar noProperties = {}\nvar noChildren = []\n\nfunction VirtualNode(tagName, properties, children, key, namespace) {\n    this.tagName = tagName\n    this.properties = properties || noProperties\n    this.children = children || noChildren\n    this.key = key != null ? String(key) : undefined\n    this.namespace = (typeof namespace === \"string\") ? namespace : null\n\n    var count = (children && children.length) || 0\n    var descendants = 0\n    var hasWidgets = false\n    var hasThunks = false\n    var descendantHooks = false\n    var hooks\n\n    for (var propName in properties) {\n        if (properties.hasOwnProperty(propName)) {\n            var property = properties[propName]\n            if (isVHook(property) && property.unhook) {\n                if (!hooks) {\n                    hooks = {}\n                }\n\n                hooks[propName] = property\n            }\n        }\n    }\n\n    for (var i = 0; i < count; i++) {\n        var child = children[i]\n        if (isVNode(child)) {\n            descendants += child.count || 0\n\n            if (!hasWidgets && child.hasWidgets) {\n                hasWidgets = true\n            }\n\n            if (!hasThunks && child.hasThunks) {\n                hasThunks = true\n            }\n\n            if (!descendantHooks && (child.hooks || child.descendantHooks)) {\n                descendantHooks = true\n            }\n        } else if (!hasWidgets && isWidget(child)) {\n            if (typeof child.destroy === \"function\") {\n                hasWidgets = true\n            }\n        } else if (!hasThunks && isThunk(child)) {\n            hasThunks = true;\n        }\n    }\n\n    this.count = count + descendants\n    this.hasWidgets = hasWidgets\n    this.hasThunks = hasThunks\n    this.hooks = hooks\n    this.descendantHooks = descendantHooks\n}\n\nVirtualNode.prototype.version = version\nVirtualNode.prototype.type = \"VirtualNode\"\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/vnode.js\n// module id = 38\n// module chunks = 0","var version = require(\"./version\")\n\nmodule.exports = VirtualText\n\nfunction VirtualText(text) {\n    this.text = String(text)\n}\n\nVirtualText.prototype.version = version\nVirtualText.prototype.type = \"VirtualText\"\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/vtext.js\n// module id = 39\n// module chunks = 0","'use strict';\n\nvar split = require('browser-split');\n\nvar classIdSplit = /([\\.#]?[a-zA-Z0-9\\u007F-\\uFFFF_:-]+)/;\nvar notClassId = /^\\.|#/;\n\nmodule.exports = parseTag;\n\nfunction parseTag(tag, props) {\n    if (!tag) {\n        return 'DIV';\n    }\n\n    var noId = !(props.hasOwnProperty('id'));\n\n    var tagParts = split(tag, classIdSplit);\n    var tagName = null;\n\n    if (notClassId.test(tagParts[1])) {\n        tagName = 'DIV';\n    }\n\n    var classes, part, type, i;\n\n    for (i = 0; i < tagParts.length; i++) {\n        part = tagParts[i];\n\n        if (!part) {\n            continue;\n        }\n\n        type = part.charAt(0);\n\n        if (!tagName) {\n            tagName = part;\n        } else if (type === '.') {\n            classes = classes || [];\n            classes.push(part.substring(1, part.length));\n        } else if (type === '#' && noId) {\n            props.id = part.substring(1, part.length);\n        }\n    }\n\n    if (classes) {\n        if (props.className) {\n            classes.push(props.className);\n        }\n\n        props.className = classes.join(' ');\n    }\n\n    return props.namespace ? tagName : tagName.toUpperCase();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/virtual-hyperscript/parse-tag.js\n// module id = 40\n// module chunks = 0","/*!\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n * ECMAScript compliant, uniform cross-browser split method\n */\n\n/**\n * Splits a string into an array of strings using a regex or string separator. Matches of the\n * separator are not included in the result array. However, if `separator` is a regex that contains\n * capturing groups, backreferences are spliced into the result each time `separator` is matched.\n * Fixes browser bugs compared to the native `String.prototype.split` and can be used reliably\n * cross-browser.\n * @param {String} str String to split.\n * @param {RegExp|String} separator Regex or string to use for separating the string.\n * @param {Number} [limit] Maximum number of items to include in the result array.\n * @returns {Array} Array of substrings.\n * @example\n *\n * // Basic use\n * split('a b c d', ' ');\n * // -> ['a', 'b', 'c', 'd']\n *\n * // With limit\n * split('a b c d', ' ', 2);\n * // -> ['a', 'b']\n *\n * // Backreferences in result array\n * split('..word1 word2..', /([a-z]+)(\\d+)/i);\n * // -> ['..', 'word', '1', ' ', 'word', '2', '..']\n */\nmodule.exports = (function split(undef) {\n\n  var nativeSplit = String.prototype.split,\n    compliantExecNpcg = /()??/.exec(\"\")[1] === undef,\n    // NPCG: nonparticipating capturing group\n    self;\n\n  self = function(str, separator, limit) {\n    // If `separator` is not a regex, use `nativeSplit`\n    if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n      return nativeSplit.call(str, separator, limit);\n    }\n    var output = [],\n      flags = (separator.ignoreCase ? \"i\" : \"\") + (separator.multiline ? \"m\" : \"\") + (separator.extended ? \"x\" : \"\") + // Proposed for ES6\n      (separator.sticky ? \"y\" : \"\"),\n      // Firefox 3+\n      lastLastIndex = 0,\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      separator = new RegExp(separator.source, flags + \"g\"),\n      separator2, match, lastIndex, lastLength;\n    str += \"\"; // Type-convert\n    if (!compliantExecNpcg) {\n      // Doesn't need flags gy, but they don't hurt\n      separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n    }\n    /* Values for `limit`, per the spec:\n     * If undefined: 4294967295 // Math.pow(2, 32) - 1\n     * If 0, Infinity, or NaN: 0\n     * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n     * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n     * If other: Type-convert, then use the above rules\n     */\n    limit = limit === undef ? -1 >>> 0 : // Math.pow(2, 32) - 1\n    limit >>> 0; // ToUint32(limit)\n    while (match = separator.exec(str)) {\n      // `separator.lastIndex` is not reliable cross-browser\n      lastIndex = match.index + match[0].length;\n      if (lastIndex > lastLastIndex) {\n        output.push(str.slice(lastLastIndex, match.index));\n        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n        // nonparticipating capturing groups\n        if (!compliantExecNpcg && match.length > 1) {\n          match[0].replace(separator2, function() {\n            for (var i = 1; i < arguments.length - 2; i++) {\n              if (arguments[i] === undef) {\n                match[i] = undef;\n              }\n            }\n          });\n        }\n        if (match.length > 1 && match.index < str.length) {\n          Array.prototype.push.apply(output, match.slice(1));\n        }\n        lastLength = match[0].length;\n        lastLastIndex = lastIndex;\n        if (output.length >= limit) {\n          break;\n        }\n      }\n      if (separator.lastIndex === match.index) {\n        separator.lastIndex++; // Avoid an infinite loop\n      }\n    }\n    if (lastLastIndex === str.length) {\n      if (lastLength || !separator.test(\"\")) {\n        output.push(\"\");\n      }\n    } else {\n      output.push(str.slice(lastLastIndex));\n    }\n    return output.length > limit ? output.slice(0, limit) : output;\n  };\n\n  return self;\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/browser-split/index.js\n// module id = 41\n// module chunks = 0","'use strict';\n\nmodule.exports = SoftSetHook;\n\nfunction SoftSetHook(value) {\n    if (!(this instanceof SoftSetHook)) {\n        return new SoftSetHook(value);\n    }\n\n    this.value = value;\n}\n\nSoftSetHook.prototype.hook = function (node, propertyName) {\n    if (node[propertyName] !== this.value) {\n        node[propertyName] = this.value;\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/virtual-hyperscript/hooks/soft-set-hook.js\n// module id = 42\n// module chunks = 0","'use strict';\n\nvar EvStore = require('ev-store');\n\nmodule.exports = EvHook;\n\nfunction EvHook(value) {\n    if (!(this instanceof EvHook)) {\n        return new EvHook(value);\n    }\n\n    this.value = value;\n}\n\nEvHook.prototype.hook = function (node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = this.value;\n};\n\nEvHook.prototype.unhook = function(node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = undefined;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/virtual-hyperscript/hooks/ev-hook.js\n// module id = 43\n// module chunks = 0","'use strict';\n\nvar OneVersionConstraint = require('individual/one-version');\n\nvar MY_VERSION = '7';\nOneVersionConstraint('ev-store', MY_VERSION);\n\nvar hashKey = '__EV_STORE_KEY@' + MY_VERSION;\n\nmodule.exports = EvStore;\n\nfunction EvStore(elem) {\n    var hash = elem[hashKey];\n\n    if (!hash) {\n        hash = elem[hashKey] = {};\n    }\n\n    return hash;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ev-store/index.js\n// module id = 44\n// module chunks = 0","'use strict';\n\nvar Individual = require('./index.js');\n\nmodule.exports = OneVersion;\n\nfunction OneVersion(moduleName, version, defaultValue) {\n    var key = '__INDIVIDUAL_ONE_VERSION_' + moduleName;\n    var enforceKey = key + '_ENFORCE_SINGLETON';\n\n    var versionValue = Individual(enforceKey, version);\n\n    if (versionValue !== version) {\n        throw new Error('Can only have one copy of ' +\n            moduleName + '.\\n' +\n            'You already have version ' + versionValue +\n            ' installed.\\n' +\n            'This means you cannot install version ' + version);\n    }\n\n    return Individual(key, defaultValue);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/individual/one-version.js\n// module id = 45\n// module chunks = 0","'use strict';\n\n/*global window, global*/\n\nvar root = typeof window !== 'undefined' ?\n    window : typeof global !== 'undefined' ?\n    global : {};\n\nmodule.exports = Individual;\n\nfunction Individual(key, value) {\n    if (key in root) {\n        return root[key];\n    }\n\n    root[key] = value;\n\n    return value;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/individual/index.js\n// module id = 46\n// module chunks = 0","export function samplesToSeconds(samples, sampleRate) {\r\n  return samples / sampleRate;\r\n}\r\n\r\nexport function secondsToSamples(seconds, sampleRate) {\r\n  return Math.ceil(seconds * sampleRate);\r\n}\r\n\r\nexport function samplesToPixels(samples, resolution) {\r\n  return Math.floor(samples / resolution);\r\n}\r\n\r\nexport function pixelsToSamples(pixels, resolution) {\r\n  return Math.floor(pixels * resolution);\r\n}\r\n\r\nexport function pixelsToSeconds(pixels, resolution, sampleRate) {\r\n  return (pixels * resolution) / sampleRate <= 0 ? 0 : (pixels * resolution) / sampleRate;\r\n}\r\n\r\nexport function secondsToPixels(seconds, resolution, sampleRate) {\r\n  return Math.ceil((seconds * sampleRate) / resolution);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/conversions.js","/*\r\n* virtual-dom hook for rendering the time scale canvas.\r\n*/\r\nexport default class {\r\n  constructor(tickInfo, offset, samplesPerPixel, duration) {\r\n    this.tickInfo = tickInfo;\r\n    this.offset = offset;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.duration = duration;\r\n  }\r\n\r\n  hook(canvas, prop, prev) {\r\n    // canvas is up to date\r\n    if (prev !== undefined\r\n      && (prev.offset === this.offset)\r\n      && (prev.duration === this.duration)\r\n      && (prev.samplesPerPixel === this.samplesPerPixel)) {\r\n      return;\r\n    }\r\n\r\n    const width = canvas.width;\r\n    const height = canvas.height;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.clearRect(0, 0, width, height);\r\n\r\n    Object.keys(this.tickInfo).forEach((x) => {\r\n      const scaleHeight = this.tickInfo[x];\r\n      const scaleY = height - scaleHeight;\r\n      ctx.fillRect(x, scaleY, 1, scaleHeight);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/TimeScaleHook.js","import _assign from 'lodash.assign';\r\nimport h from 'virtual-dom/h';\r\n\r\nimport extractPeaks from 'webaudio-peaks';\r\nimport { secondsToSamples } from '../utils/conversions';\r\nimport CanvasHook from '../render/CanvasHook';\r\n\r\nconst MAX_CANVAS_WIDTH = 3000;\r\nexport default class {\r\n  constructor(fragDom) {\r\n    this.startTime = 0;\r\n    this.endTime = 0;\r\n    this.fragDom = fragDom;\r\n    this.peakData = {\r\n      type: 'WebAudio',\r\n      mono: true,\r\n    };\r\n  }\r\n  // 设置音频流\r\n  setBuffer(buffer) {\r\n    this.buffer = buffer;\r\n  }\r\n  // 设置名称\r\n  setName(name) {\r\n    this.name = name;\r\n  }\r\n  // 设置颜色配置\r\n  setWaveOutlineColor(color) {\r\n    this.waveOutlineColor = color;\r\n  }\r\n  // 设置peakData\r\n  setPeakData(data) {\r\n    this.peakData = data;\r\n  }\r\n  // 设置playout\r\n  setPlayout(playout) {\r\n    this.playout = playout;\r\n  }\r\n  // 设置开始结束时间\r\n  setStartTime(start) {\r\n    this.startTime = start;\r\n    this.endTime = start + this.duration;\r\n  }\r\n  // 设置区时间\r\n  setCues(cueIn, cueOut) {\r\n    if (cueOut < cueIn) {\r\n      throw new Error('cue out cannot be less than cue in');\r\n    }\r\n\r\n    this.cueIn = cueIn;\r\n    this.cueOut = cueOut;\r\n    this.duration = this.cueOut - this.cueIn;\r\n    this.endTime = this.startTime + this.duration;\r\n  }\r\n  // 设置peaks\r\n  setPeaks(peaks) {\r\n    this.peaks = peaks;\r\n  }\r\n  // 获取结束时间\r\n  getEndTime() {\r\n    return this.endTime;\r\n  }\r\n  // 是否播放\r\n  isPlaying() {\r\n    return this.playout.isPlaying();\r\n  }\r\n  // 播放\r\n  schedulePlay(now, startTime, endTime, config) {\r\n    const defaultOptions = {\r\n      shouldPlay: true,\r\n      masterGain: 1,\r\n      isOffline: false,\r\n    };\r\n\r\n    const options = _assign({}, defaultOptions, config);\r\n    const playoutSystem = options.isOffline ? this.offlinePlayout : this.playout;\r\n    const sourcePromise = playoutSystem.setUpSource();\r\n    playoutSystem.setVolumeGainLevel(1);\r\n    playoutSystem.setShouldPlay(options.shouldPlay);\r\n    playoutSystem.setMasterGainLevel(1);\r\n    playoutSystem.play(now, startTime, endTime);\r\n    return sourcePromise;\r\n  }\r\n  // 停止\r\n  scheduleStop(when = 0) {\r\n    this.playout.stop(when);\r\n  }\r\n\r\n  // 设置peaks\r\n  calculatePeaks(samplesPerPixel, sampleRate) {\r\n    const cueIn = secondsToSamples(this.cueIn, sampleRate);\r\n    const cueOut = secondsToSamples(this.cueOut, sampleRate);\r\n    this.setPeaks(extractPeaks(this.buffer, samplesPerPixel, this.peakData.mono, cueIn, cueOut));\r\n  }\r\n\r\n  // 构造canvas声音波形\r\n  render() {\r\n    const canvasWidth = this.peaks.length;\r\n    const canvasHeight = 300;\r\n    this.fragDom.style.width = `${canvasWidth}px`;\r\n    const channels = Object.keys(this.peaks.data).map((channelNum) => {\r\n      const channelChildren = [];\r\n      let offset = 0;\r\n      let totalWidth = canvasWidth;\r\n      const peaks = this.peaks.data[channelNum];\r\n      while (totalWidth > 0) {\r\n        const currentWidth = Math.min(totalWidth, MAX_CANVAS_WIDTH);\r\n        const canvasColor = '#373B4D';\r\n\r\n        channelChildren.push(h('canvas', {\r\n          attributes: {\r\n            width: currentWidth,\r\n            height: canvasHeight,\r\n            style: 'float: left; position: relative; margin: 0; padding: 0; z-index: 3;',\r\n          },\r\n          hook: new CanvasHook(peaks, offset, this.peaks.bits, canvasColor),\r\n        }));\r\n        totalWidth -= currentWidth;\r\n        offset += MAX_CANVAS_WIDTH;\r\n      }\r\n\r\n      return h(`div.channel.channel-${channelNum}`,\r\n        {\r\n          attributes: {\r\n            style: `height: ${canvasHeight}px; width: ${canvasWidth}px; top: ${channelNum * canvasHeight}px; position: absolute; margin: 0; padding: 0; z-index: 1;border-top: 20px #373B4D solid;border-bottom: 20px #373B4D solid;`,\r\n          },\r\n        },\r\n        channelChildren,\r\n      );\r\n    });\r\n    return channels;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/render/Track.js","'use strict';\n\n//http://jsperf.com/typed-array-min-max/2\n//plain for loop for finding min/max is way faster than anything else.\n/**\n* @param {TypedArray} array - Subarray of audio to calculate peaks from.\n*/\nfunction findMinMax(array) {\n    var min = Infinity;\n    var max = -Infinity;\n    var i = 0;\n    var len = array.length;\n    var curr;\n\n    for(; i < len; i++) {\n        curr = array[i];\n        if (min > curr) {\n            min = curr;\n        }\n        if (max < curr) {\n            max = curr;\n        }\n    }\n\n    return {\n        min: min,\n        max: max\n    };\n}\n\n/**\n* @param {Number} n - peak to convert from float to Int8, Int16 etc.\n* @param {Number} bits - convert to #bits two's complement signed integer\n*/\nfunction convert(n, bits) {\n    var max = Math.pow(2, bits-1);\n    var v = n < 0 ? n * max : n * max - 1;\n    return Math.max(-max, Math.min(max-1, v));\n}\n\n/**\n* @param {TypedArray} channel - Audio track frames to calculate peaks from.\n* @param {Number} samplesPerPixel - Audio frames per peak\n*/\nfunction extractPeaks(channel, samplesPerPixel, bits) {\n    var i;\n    var chanLength = channel.length;\n    var numPeaks = Math.ceil(chanLength / samplesPerPixel);\n    var start;\n    var end;\n    var segment;\n    var max; \n    var min;\n    var extrema;\n\n    //create interleaved array of min,max\n    var peaks = new (eval(\"Int\"+bits+\"Array\"))(numPeaks*2);\n\n    for (i = 0; i < numPeaks; i++) {\n\n        start = i * samplesPerPixel;\n        end = (i + 1) * samplesPerPixel > chanLength ? chanLength : (i + 1) * samplesPerPixel;\n\n        segment = channel.subarray(start, end);\n        extrema = findMinMax(segment);\n        min = convert(extrema.min, bits);\n        max = convert(extrema.max, bits);\n\n        peaks[i*2] = min;\n        peaks[i*2+1] = max;\n    }\n\n    return peaks;\n}\n\nfunction makeMono(channelPeaks, bits) {\n    var numChan = channelPeaks.length;\n    var weight = 1 / numChan;\n    var numPeaks = channelPeaks[0].length / 2;\n    var c = 0;\n    var i = 0;\n    var min;\n    var max;\n    var peaks = new (eval(\"Int\"+bits+\"Array\"))(numPeaks*2);\n\n    for (i = 0; i < numPeaks; i++) {\n        min = 0;\n        max = 0;\n\n        for (c = 0; c < numChan; c++) {\n            min += weight * channelPeaks[c][i*2];\n            max += weight * channelPeaks[c][i*2+1];\n        }\n\n        peaks[i*2] = min;\n        peaks[i*2+1] = max;\n    }\n\n    //return in array so channel number counts still work.\n    return [peaks];\n}\n\n/**\n* @param {AudioBuffer,TypedArray} source - Source of audio samples for peak calculations.\n* @param {Number} samplesPerPixel - Number of audio samples per peak.\n* @param {Number} cueIn - index in channel to start peak calculations from.\n* @param {Number} cueOut - index in channel to end peak calculations from (non-inclusive).\n*/\nmodule.exports = function(source, samplesPerPixel, isMono, cueIn, cueOut, bits) {\n    samplesPerPixel = samplesPerPixel || 10000;\n    bits = bits || 8;\n    \n    if (isMono === null || isMono === undefined) {\n        isMono = true;\n    }\n\n    if ([8, 16, 32].indexOf(bits) < 0) {\n        throw new Error(\"Invalid number of bits specified for peaks.\");\n    }\n\n    var numChan = source.numberOfChannels;\n    var peaks = [];\n    var c;\n    var numPeaks;\n    var channel;\n    var slice;\n\n    if (typeof source.subarray === \"undefined\") {\n        for (c = 0; c < numChan; c++) {\n            channel = source.getChannelData(c);\n            cueIn = cueIn || 0;\n            cueOut = cueOut || channel.length;\n            slice = channel.subarray(cueIn, cueOut);\n            peaks.push(extractPeaks(slice, samplesPerPixel, bits));\n        }\n    }\n    else {\n        cueIn = cueIn || 0;\n        cueOut = cueOut || source.length;\n        peaks.push(extractPeaks(source.subarray(cueIn, cueOut), samplesPerPixel, bits));\n    }\n\n    if (isMono && peaks.length > 1) {\n        peaks = makeMono(peaks, bits);\n    }\n\n    numPeaks = peaks[0].length / 2;\n\n    return {\n        length: numPeaks,\n        data: peaks,\n        bits: bits\n    };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webaudio-peaks/index.js\n// module id = 50\n// module chunks = 0","\r\nclass CanvasHook {\r\n  constructor(peaks, offset, bits, color) {\r\n    this.peaks = peaks;\r\n    this.offset = offset;\r\n    this.color = color;\r\n    this.bits = bits;\r\n  }\r\n\r\n  static drawFrame(cc, h2, x, minPeak, maxPeak) {\r\n    const min = Math.abs(minPeak * h2);\r\n    const max = Math.abs(maxPeak * h2);\r\n    // draw max\r\n    cc.fillRect(x, 0, 1, h2 - max);\r\n    // draw min\r\n    cc.fillRect(x, h2 + min, 1, h2 - min);\r\n  }\r\n\r\n  hook(canvas, prop, prev) {\r\n    // canvas is up to date\r\n    if (prev !== undefined &&\r\n      (prev.peaks === this.peaks)) {\r\n      return;\r\n    }\r\n\r\n    const len = canvas.width;\r\n    const cc = canvas.getContext('2d');\r\n    const h2 = canvas.height / 2;\r\n    const maxValue = 2 ** (this.bits - 1);\r\n    cc.clearRect(0, 0, canvas.width, canvas.height);\r\n    cc.fillStyle = this.color;\r\n    for (let i = 0; i < len; i += 1) {\r\n      const minPeak = this.peaks[(i + this.offset) * 2] / maxValue;\r\n      const maxPeak = this.peaks[((i + this.offset) * 2) + 1] / maxValue;\r\n      CanvasHook.drawFrame(cc, h2, i, minPeak, maxPeak);\r\n    }\r\n  }\r\n}\r\n\r\nexport default CanvasHook;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/CanvasHook.js","export default class {\r\n\r\n  constructor(ac, buffer) {\r\n    this.ac = ac;\r\n    this.gain = 1;\r\n    this.buffer = buffer;\r\n    this.destination = this.ac.destination;\r\n  }\r\n\r\n  isPlaying() {\r\n    return this.source !== undefined;\r\n  }\r\n\r\n  getDuration() {\r\n    return this.buffer.duration;\r\n  }\r\n\r\n  setAudioContext(audioContext) {\r\n    this.ac = audioContext;\r\n    this.destination = this.ac.destination;\r\n  }\r\n\r\n  setUpSource() {\r\n    this.source = this.ac.createBufferSource();\r\n    this.source.buffer = this.buffer;\r\n\r\n    const sourcePromise = new Promise((resolve) => {\r\n      // keep track of the buffer state.\r\n      this.source.onended = () => {\r\n        this.source.disconnect();\r\n        this.fadeGain.disconnect();\r\n        this.volumeGain.disconnect();\r\n        this.shouldPlayGain.disconnect();\r\n        this.masterGain.disconnect();\r\n\r\n\r\n        this.source = undefined;\r\n        this.fadeGain = undefined;\r\n        this.volumeGain = undefined;\r\n        this.shouldPlayGain = undefined;\r\n        this.masterGain = undefined;\r\n\r\n        resolve();\r\n      };\r\n    });\r\n\r\n    this.fadeGain = this.ac.createGain();\r\n    // used for track volume slider\r\n    this.volumeGain = this.ac.createGain();\r\n    // used for solo/mute\r\n    this.shouldPlayGain = this.ac.createGain();\r\n    this.masterGain = this.ac.createGain();\r\n\r\n    this.source.connect(this.fadeGain);\r\n    this.fadeGain.connect(this.volumeGain);\r\n    this.volumeGain.connect(this.shouldPlayGain);\r\n    this.shouldPlayGain.connect(this.masterGain);\r\n    this.masterGain.connect(this.destination);\r\n\r\n    return sourcePromise;\r\n  }\r\n\r\n  setVolumeGainLevel(level) {\r\n    if (this.volumeGain) {\r\n      this.volumeGain.gain.value = level;\r\n    }\r\n  }\r\n\r\n  setShouldPlay(bool) {\r\n    if (this.shouldPlayGain) {\r\n      this.shouldPlayGain.gain.value = bool ? 1 : 0;\r\n    }\r\n  }\r\n\r\n  setMasterGainLevel(level) {\r\n    if (this.masterGain) {\r\n      this.masterGain.gain.value = level;\r\n    }\r\n  }\r\n\r\n  /*\r\n    source.start is picky when passing the end time.\r\n    If rounding error causes a number to make the source think\r\n    it is playing slightly more samples than it has it won't play at all.\r\n    Unfortunately it doesn't seem to work if you just give it a start time.\r\n  */\r\n  play(when, start, duration) {\r\n    this.source.start(when, start, duration);\r\n  }\r\n\r\n  stop(when = 0) {\r\n    if (this.source) {\r\n      this.source.stop(when);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Playout.js","import { secondsToPixels } from '../utils/conversions';\r\n\r\nclass PlayedHook {\r\n  constructor(seconds, samplesPerPixel, sampleRate, duration) {\r\n    this.seconds = seconds;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n    this.duration = duration;\r\n\r\n    this.oDiv1 = document.getElementById('waveBack');\r\n    this.oDiv2 = document.getElementById('wavePointer');\r\n    this.oDiv3 = document.getElementById('played');\r\n  }\r\n  render() {\r\n    const widthX = secondsToPixels(this.seconds, this.samplesPerPixel, this.sampleRate);\r\n    const allWidth = secondsToPixels(this.duration, this.samplesPerPixel, this.sampleRate);\r\n    const playedWid = widthX / allWidth;\r\n    this.oDiv1.style.width = `${widthX}px`;\r\n    this.oDiv2.style.left = `${widthX}px`;\r\n    this.oDiv3.style.width = `${playedWid * 100}%`;\r\n  }\r\n}\r\nexport default PlayedHook;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/PlayedHook.js","import { secondsToPixels } from '../utils/conversions';\r\n\r\nclass FragHook {\r\n  constructor(fragDom, formArr, samplesPerPixel, sampleRate) {\r\n    this.formArr = formArr;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n    this.fragDom = fragDom;\r\n  }\r\n  creatDom(frag, index) {\r\n    const start = Math.min(frag.start, frag.end);\r\n    const end = Math.max(frag.start, frag.end);\r\n    const left = secondsToPixels(start, this.samplesPerPixel, this.sampleRate);\r\n    const width = secondsToPixels(end, this.samplesPerPixel, this.sampleRate) - left;\r\n    let state = '';\r\n    if (frag.extend.qualityState === '0') {\r\n      state = 'fragGreen';\r\n    } else if (frag.extend.qualityState === '1') {\r\n      state = 'fragRed';\r\n    }\r\n    const dom = `<div class=\"frag ${state}\" style='left:${left}px;width:${width}px' name=${index}></div>`;\r\n    return dom;\r\n  }\r\n  renderAdd(frag, index) {\r\n    const dom = this.creatDom(frag, index);\r\n    this.fragDom.innerHTML += dom;\r\n  }\r\n  render() {\r\n    let domAll = '';\r\n    this.formArr.forEach((item, index) => {\r\n      domAll += this.creatDom(item, index);\r\n    });\r\n    this.fragDom.innerHTML = domAll;\r\n  }\r\n}\r\nexport default FragHook;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/FragHook.js","import { secondsToPixels } from '../utils/conversions';\r\n\r\nclass FromHook {\r\n  constructor(typeArr, formInfo, samplesPerPixel, sampleRate, ee) {\r\n    this.typeArr = typeArr;\r\n    this.formInfo = formInfo;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n    this.ee = ee;\r\n\r\n\r\n    this.formDom = document.getElementById('formInfo');\r\n  }\r\n  renderInput(item, typeInfo) {\r\n    const checkValue = item.extend[typeInfo.sort] || '';\r\n    const inputDom = `<div class=\"form-content\"><p>${typeInfo.title}:</p><input type=\"text\" value=\"${checkValue}\" class=\"formValue\" name=\"${typeInfo.sort}\"></div>`;\r\n    return inputDom;\r\n  }\r\n  renderCheckbox(item, typeInfo, index) {\r\n    let listDom = '';\r\n    let checkValue = item.extend[typeInfo.sort] || [];\r\n    if (typeof checkValue === 'string') {\r\n      checkValue = checkValue.split(',');\r\n    }\r\n    typeInfo.option.forEach((name, indexT) => {\r\n      let checked = '';\r\n      checkValue.forEach((check) => {\r\n        if (check === `${indexT}`) {\r\n          checked = 'checked';\r\n        }\r\n      });\r\n      listDom += `<li>\r\n                    <input type=\"checkbox\" name=\"checkbox-${index}\" value='${indexT}' ${checked}>\r\n                    <label>${name}</label>\r\n                  </li>\r\n                `;\r\n    });\r\n    const checkboxDom = `<div class=\"form-content\" ><p>${typeInfo.title}:</p> \r\n                          <ul class=\"cd-form-list formValue\" name=\"${typeInfo.sort}\" type=\"checkbox\">\r\n                            ${listDom}\r\n                          </ul>\r\n                        </div>`;\r\n    return checkboxDom;\r\n  }\r\n  renderRadio(item, typeInfo, index) {\r\n    let listDom = '';\r\n    const checkValue = item.extend[typeInfo.sort] || '';\r\n    typeInfo.option.forEach((name, indexT) => {\r\n      const checked = checkValue === `${indexT}` ? 'checked' : '';\r\n      listDom += `<li>\r\n                    <input type=\"radio\" name=\"radio-${index}\" value=\"${indexT}\" ${checked}>\r\n                    <label>${name}</label>\r\n                  </li>\r\n                `;\r\n    });\r\n    const radioDom = `<div class=\"form-content\" name=\"${typeInfo.sort}\"><p>${typeInfo.title}:</p>\r\n                          <ul class=\"cd-form-list formValue\" type=\"radio\" name=\"${typeInfo.sort}\">\r\n                            ${listDom}\r\n                          </ul>\r\n                        </div>`;\r\n    return radioDom;\r\n  }\r\n  renderSelect(item, typeInfo) {\r\n    let listDom = '';\r\n    const checkValue = item.extend[typeInfo.sort] || '';\r\n    typeInfo.option.forEach((name, indexT) => {\r\n      const checked = checkValue === `${indexT}` ? 'selected' : '';\r\n      listDom += `<option value=${indexT} ${checked}>${name}</option>`;\r\n    });\r\n    const selectDom = `<div class=\"form-content\"><p>${typeInfo.title}:</p>\r\n                          <p class=\"cd-select icon\">\r\n                            <select class=\"formValue\" name=\"${typeInfo.sort}\">\r\n                             ${listDom}\r\n                            </select>\r\n                         </p>\r\n                      </div>`;\r\n    return selectDom;\r\n  }\r\n  qualityRender(formItem, errorInfo, index) {\r\n    const qualityType = { type: 'radio', sort: 'qualityState', title: 'State', option: ['合格', '不合格'] };\r\n    const qualityState = this.renderRadio(formItem, qualityType, `qualityState${index}`);\r\n    const errorsState = this.renderCheckbox(formItem, errorInfo, `errorsState${index}`);\r\n    const qualityDom = `<div class=\"quality-content\">\r\n                          ${qualityState}\r\n                          ${errorsState}\r\n                        </div>`;\r\n    return qualityDom;\r\n  }\r\n  creatDom(formItem, index) {\r\n    const errorInfo = { type: 'checkbox', sort: 'errorInfo', title: 'errorInfo', option: ['错误1', '错误2', '错误3'] };\r\n    const left = secondsToPixels(formItem.start, this.samplesPerPixel, this.sampleRate);\r\n    let formContent = '';\r\n    const qualityDom =  this.qualityRender(formItem, errorInfo, index);\r\n    this.typeArr.forEach((typeItem) => {\r\n      switch (typeItem.type) {\r\n        case 'input':\r\n          formContent += this.renderInput(formItem, typeItem);\r\n          break;\r\n        case 'checkbox':\r\n          formContent += this.renderCheckbox(formItem, typeItem, index);\r\n          break;\r\n        case 'radio':\r\n          formContent += this.renderRadio(formItem, typeItem, index);\r\n          break;\r\n        case 'select':\r\n          formContent += this.renderSelect(formItem, typeItem);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n    return `<div class=\"form-group\" style=\"left:${left}px\" name=\"${index}\">\r\n            <div class=\"form-title\"><h1>${index}</h1><h2 name=\"close\">X</h2></div>\r\n            ${formContent}\r\n            ${qualityDom}\r\n            </div>`;\r\n  }\r\n  renderAdd(form, index) {\r\n    const formContent = this.creatDom(form, index);\r\n    this.formDom.innerHTML += formContent;\r\n  }\r\n  render() {\r\n    let formContent = '';\r\n    this.formInfo.forEach((formItem, index) => {\r\n      formContent += this.creatDom(formItem, index);\r\n    });\r\n    this.formDom.innerHTML = '';\r\n    this.formDom.innerHTML = formContent;\r\n  }\r\n}\r\n\r\nexport default FromHook;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/FormHook.js","import { pixelsToSeconds, secondsToPixels } from '../../utils/conversions';\r\n\r\nclass FragController {\r\n  constructor(ee, fragId, formInfo, samplesPerPixel, sampleRate) {\r\n    this.ee = ee;\r\n    this.fragId = fragId;\r\n    this.formInfo = formInfo;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n    this.shortFrag = document.getElementById('shortFrag');\r\n\r\n    this.downPoint = null;\r\n    this.creatDom = false;\r\n    this.selected = false;\r\n    this.hitPoint = false;\r\n    this.changeFrag = null;\r\n  }\r\n  setSamples(samplesPerPixel, sampleRate) {\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n  }\r\n  bindEvent() {\r\n    // oncontextmenu\r\n    this.fragId.addEventListener('contextmenu', (e) => {\r\n      this.rightEvent(e);\r\n      e.preventDefault();\r\n    });\r\n    this.fragId.addEventListener('mousedown', (e) => {\r\n      // 选中状态\r\n      if (e.which === 1) {\r\n        if (this.selected) {\r\n          this.downRightEvent(e);\r\n          return;\r\n        }\r\n        this.downEvent(e);\r\n      }\r\n    });\r\n    this.fragId.addEventListener('mousemove', (e) => {\r\n      // 选中状态\r\n      if (this.selected) {\r\n        this.moveRightEvent(e);\r\n        return;\r\n      }\r\n      if (this.downPoint) {\r\n        this.moveEvent(e);\r\n      }\r\n    });\r\n    this.fragId.addEventListener('mouseup', (e) => {\r\n      // 选中状态\r\n      if (e.which === 3) { return; }\r\n      if (this.selected) {\r\n        this.upRightEvent();\r\n        return;\r\n      }\r\n      if (this.creatDom) {\r\n        this.upEventCreat(e);\r\n      } else {\r\n        this.upEventPlay(e);\r\n      }\r\n      this.shortFrag.style.display = 'none';\r\n      this.downPoint = null;\r\n      this.creatDom = false;\r\n    });\r\n  }\r\n  getAttrName(e) {\r\n    const name = e.target.getAttribute('name');\r\n    return name;\r\n  }\r\n  setClassName(e) {\r\n    this.clearClassName();\r\n    e.target.className = `${e.target.className} fragSelected`;\r\n  }\r\n  clearClassName() {\r\n    const frag = document.getElementsByClassName('frag');\r\n    for (let i = 0; i < frag.length; i++) {\r\n      frag[i].className = frag[i].className.replace('fragSelected');\r\n    }\r\n  }\r\n  getMouseLeft(e) {\r\n    const canvasLeft = this.fragId.getBoundingClientRect().left;\r\n    const mouseLeft = e.clientX;\r\n    const playWidth = mouseLeft - canvasLeft;\r\n    return playWidth;\r\n  }\r\n  getHitPoint(e) {\r\n    const canvasLeft = this.fragId.getBoundingClientRect().left;\r\n    const selected = this.formInfo[this.selected];\r\n    const mouseLeft = pixelsToSeconds(e.clientX - canvasLeft, this.samplesPerPixel, this.sampleRate);\r\n    let pointSlected = false;\r\n    if (selected.end - 0.1 < mouseLeft && selected.end + 0.1 > mouseLeft) {\r\n      pointSlected = 'end';\r\n    } else if (selected.start - 0.1 < mouseLeft && selected.start + 0.1 > mouseLeft) {\r\n      pointSlected = 'start';\r\n    }\r\n    return pointSlected;\r\n  }\r\n  setShortFrag(playWidth) {\r\n    const left = Math.min(playWidth, this.downPoint);\r\n    const right = Math.max(playWidth, this.downPoint);\r\n    const width = right - left;\r\n    this.shortFrag.style.display = 'block';\r\n    this.shortFrag.style.left =  `${left}px`;\r\n    this.shortFrag.style.width = `${width}px`;\r\n  }\r\n  pointStart(Point, out) {\r\n    let setUp = true;\r\n    const points = pixelsToSeconds(Point, this.samplesPerPixel, this.sampleRate);\r\n    this.formInfo.forEach((item, index) => {\r\n      if ((points > item.start && points < item.end) && out != index) {\r\n        setUp = false;\r\n      }\r\n    });\r\n    return setUp;\r\n  }\r\n  pointEnd(Point) {\r\n    const point1 = pixelsToSeconds(this.downPoint, this.samplesPerPixel, this.sampleRate);\r\n    let point2 = pixelsToSeconds(Point, this.samplesPerPixel, this.sampleRate);\r\n    this.formInfo.forEach((item) => {\r\n      if (point1 < point2 && point1 < item.start && point2 >= item.start) {\r\n        point2 = item.start;\r\n      } else if (point1 > point2 && point1 > item.end && point2 <= item.end) {\r\n        point2 = item.end;\r\n      }\r\n    });\r\n    return secondsToPixels(point2, this.samplesPerPixel, this.sampleRate);\r\n  }\r\n  downEvent(e) {\r\n    const playWidth = this.getMouseLeft(e);\r\n    if (this.pointStart(playWidth)) {\r\n      this.downPoint = playWidth;\r\n    }\r\n  }\r\n  moveEvent(e) {\r\n    const upPoint = this.pointEnd(this.getMouseLeft(e));\r\n    const moveWidth = upPoint - this.downPoint;\r\n    if (moveWidth > 5 || moveWidth < -5) {\r\n      this.setShortFrag(upPoint);\r\n      this.creatDom = true;\r\n    }\r\n  }\r\n  upEventPlay(e) {\r\n    const name = this.getAttrName(e);\r\n    this.downPoint = null;\r\n    if (name === 'waveFrag') {\r\n      const upPoint = this.getMouseLeft(e);\r\n      const start = pixelsToSeconds(upPoint, this.samplesPerPixel, this.sampleRate);\r\n      this.ee.emit('play', start);\r\n    } else {\r\n      this.ee.emit('selectdFrag', name);\r\n      this.ee.emit('playFrag', name);\r\n    }\r\n  }\r\n  upEventCreat(e) {\r\n    const upPoint = this.pointEnd(this.getMouseLeft(e));\r\n    const start = Math.min(upPoint, this.downPoint);\r\n    const end = Math.max(upPoint, this.downPoint);\r\n    const frag = {\r\n      start: pixelsToSeconds(start, this.samplesPerPixel, this.sampleRate),\r\n      end: pixelsToSeconds(end, this.samplesPerPixel, this.sampleRate),\r\n      title: '',\r\n      extend: {},\r\n    };\r\n    this.ee.emit('addFrag', frag);\r\n  }\r\n\r\n  rightEvent(e) {\r\n    const name = this.getAttrName(e);\r\n    if (name !== 'waveFrag') {\r\n      this.selected = name;\r\n      this.setClassName(e);\r\n      this.ee.emit('selectdFrag', name);\r\n      this.ee.emit('pause');\r\n    }\r\n  }\r\n  downRightEvent(e) {\r\n    const name = this.getAttrName(e);\r\n    this.hitPoint = this.getHitPoint(e);\r\n    this.movePoint = e.clientX;\r\n    if (name === this.selected || this.hitPoint) {\r\n      // this.selected = name;\r\n      // console.log(this.hitPoint);\r\n    } else {\r\n      this.selected = null;\r\n      this.clearClassName();\r\n    }\r\n  }\r\n  moveRightEvent(e) {\r\n    const selectedDom = document.getElementsByClassName('fragSelected')[0];\r\n    let left;\r\n    let width;\r\n    if (this.movePoint) {\r\n      if (this.hitPoint) {\r\n        if (this.hitPoint === 'end') {\r\n          left = window.parseInt(selectedDom.style.left);\r\n          width = window.parseInt(selectedDom.style.width) + e.movementX;\r\n        } else if (this.hitPoint === 'start') {\r\n          left = window.parseInt(selectedDom.style.left) + e.movementX;\r\n          width = window.parseInt(selectedDom.style.width) - e.movementX;\r\n        }\r\n      } else {\r\n        left = window.parseInt(selectedDom.style.left) + e.movementX;\r\n        width = window.parseInt(selectedDom.style.width);\r\n      }\r\n    }\r\n    if (this.pointStart(left, this.selected) && this.pointStart(left + width, this.selected)) {\r\n      selectedDom.style.left = `${left}px`;\r\n      selectedDom.style.width = `${width}px`;\r\n    }\r\n    const starts = pixelsToSeconds(left, this.samplesPerPixel, this.sampleRate);\r\n    const ends = pixelsToSeconds(left + width, this.samplesPerPixel, this.sampleRate);\r\n    const index = selectedDom.getAttribute('name');\r\n    this.changeFrag = { start: starts, end: ends, title: this.formInfo[index].title, extend: this.formInfo[index].extend };\r\n  }\r\n  upRightEvent() {\r\n    if (this.changeFrag) {\r\n      this.ee.emit('changeFrag', this.changeFrag, this.selected);\r\n    }\r\n    this.movePoint = false;\r\n    this.hitPoint = false;\r\n  }\r\n}\r\n\r\nexport default FragController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/track/controller/FragController.js","class FormController {\r\n  constructor(ee, formInfo) {\r\n    this.formInfo = formInfo;\r\n    this.ee = ee;\r\n    this.formDom = document.getElementById('formInfo');\r\n    this.selected = 0;\r\n  }\r\n  getIndex(target) {\r\n    if (target.className === 'form-group' || target.className === 'form-group form-selected') {\r\n      return target;\r\n    } else {\r\n      return this.getIndex(target.offsetParent);\r\n    }\r\n  }\r\n  getValue(formDom) {\r\n    if (!formDom) {\r\n      return;\r\n    }\r\n    const type = formDom.type;\r\n    let values = '';\r\n    let name = formDom.getAttribute('name');\r\n    switch (type) {\r\n      case 'text':\r\n        values = formDom.value;\r\n        break;\r\n      case 'select-one':\r\n        values = formDom.options[formDom.selectedIndex].value;\r\n        break;\r\n      case 'checkbox':\r\n        const checkboxList = formDom.getElementsByTagName('input');\r\n        for (const x in checkboxList) {\r\n          if (checkboxList[x].checked) {\r\n            values += `${checkboxList[x].value},`;\r\n          }\r\n        }\r\n        break;\r\n      case 'radio':\r\n        const radioList = formDom.getElementsByTagName('input');\r\n        for (const x in radioList) {\r\n          if (radioList[x].checked) {\r\n            values = radioList[x].value;\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return [name, values];\r\n  }\r\n  setClassName(index) {\r\n    this.clearClassName();\r\n    document.getElementsByClassName('form-group')[index].className = 'form-group form-selected';\r\n  }\r\n  addFormInfo() {\r\n    const formSlected = this.formDom.getElementsByClassName('form-selected')[0];\r\n    if (!formSlected) {\r\n      return;\r\n    }\r\n    const name = formSlected.getAttribute('name');\r\n    const listDom = formSlected.getElementsByClassName('form-content');\r\n    this.formInfo[name].extend.formValue = [];\r\n    for (let i = 0; i < listDom.length; i++) {\r\n      const formValue = this.getValue(listDom[i].getElementsByClassName('formValue')[0]);\r\n      this.formInfo[name].extend[formValue[0]] = formValue[1];\r\n    }\r\n  }\r\n  clearClassName() {\r\n    const frag = document.getElementsByClassName('form-group');\r\n    for (let i = 0; i < frag.length; i++) {\r\n      frag[i].className = 'form-group';\r\n    }\r\n  }\r\n  bindEvent() {\r\n    this.formDom.addEventListener('click', (e) => {\r\n      const name = e.target.getAttribute('name');\r\n      const group = this.getIndex(e.target);\r\n      const index = group.getAttribute('name');\r\n      this.setClassName(index);\r\n      if (name === 'close' && this.selected === index) {\r\n        this.ee.emit('deleteFrag', index);\r\n      }\r\n      this.selected = index;\r\n    });\r\n    this.formDom.addEventListener('mouseleave', () => {\r\n      this.addFormInfo();\r\n      this.ee.emit('save', this.formInfo);\r\n    });\r\n  }\r\n}\r\n\r\nexport default FormController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/track/controller/FormController.js","import XHRLoader from './XHRLoader';\r\n\r\nexport default class {\r\n  static createLoader(src, audioContext, ee) {\r\n    if (typeof (src) === 'string') {\r\n      return new XHRLoader(src, audioContext, ee);\r\n    }\r\n\r\n    throw new Error('Unsupported src type');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/track/loader/LoaderFactory.js","import Loader from './Loader';\r\n\r\nexport default class extends Loader {\r\n\r\n  /**\r\n   * XHR加载\r\n   */\r\n  load() {\r\n    return new Promise((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('GET', this.src, true);\r\n      xhr.responseType = 'arraybuffer';\r\n      xhr.send();\r\n\r\n      xhr.addEventListener('progress', (e) => {\r\n        super.fileProgress(e);\r\n      });\r\n\r\n      xhr.addEventListener('load', (e) => {\r\n        const decoderPromise = super.fileLoad(e);\r\n\r\n        decoderPromise.then((audioBuffer) => {\r\n          resolve(audioBuffer);\r\n        });\r\n      });\r\n\r\n      xhr.addEventListener('error', () => {\r\n        reject(Error(`Track ${this.src} failed to load`));\r\n      });\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/track/loader/XHRLoader.js","import EventEmitter from 'event-emitter';\r\n\r\nexport const STATE_UNINITIALIZED = 0;\r\nexport const STATE_LOADING = 1;\r\nexport const STATE_DECODING = 2;\r\nexport const STATE_FINISHED = 3;\r\n\r\n\r\nexport default class {\r\n  constructor(src, audioContext, ee = EventEmitter()) {\r\n    this.src = src;\r\n    this.ac = audioContext;\r\n    this.audioRequestState = STATE_UNINITIALIZED;\r\n    this.ee = ee;\r\n  }\r\n\r\n  setStateChange(state) {\r\n    this.audioRequestState = state;\r\n    this.ee.emit('audiorequeststatechange', this.audioRequestState, this.src);\r\n  }\r\n\r\n  fileProgress(e) {\r\n    let percentComplete = 0;\r\n\r\n    if (this.audioRequestState === STATE_UNINITIALIZED) {\r\n      this.setStateChange(STATE_LOADING);\r\n    }\r\n\r\n    if (e.lengthComputable) {\r\n      percentComplete = (e.loaded / e.total) * 100;\r\n    }\r\n\r\n    this.ee.emit('loadprogress', percentComplete, this.src);\r\n  }\r\n\r\n  fileLoad(e) {\r\n    const audioData = e.target.response || e.target.result;\r\n\r\n    this.setStateChange(STATE_DECODING);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.ac.decodeAudioData(\r\n        audioData,\r\n        (audioBuffer) => {\r\n          this.audioBuffer = audioBuffer;\r\n          this.setStateChange(STATE_FINISHED);\r\n\r\n          resolve(audioBuffer);\r\n        },\r\n        (err) => {\r\n          reject(err);\r\n        },\r\n      );\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/track/loader/Loader.js"],"sourceRoot":""}